import{b as Wu,c as Ku,f as gy,g as Ju}from"./chunk-LJ5XHLMQ.js";import{a as v,b as G,d as dt,f as hy,g as py,h}from"./chunk-FK42CRUA.js";var _u=dt(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});var Cu=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};Eu.default=Cu});var Iu=dt(Ni=>{"use strict";var cm=Ni&&Ni.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ni,"__esModule",{value:!0});var Q_=cm((Ju(),py(gy))),X_=cm(_u()),Su=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=Q_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=Object.assign({},this.headers),this.headers[n]=t,this}then(n,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>h(this,null,function*(){var s,a,l;let c=null,u=null,d=null,p=o.status,f=o.statusText;if(o.ok){if(this.method!=="HEAD"){let C=yield o.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=C:u=JSON.parse(C))}let m=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),b=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,p=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let m=yield o.text();try{c=JSON.parse(m),Array.isArray(c)&&o.status===404&&(u=[],c=null,p=200,f="OK")}catch{o.status===404&&m===""?(p=204,f="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,p=200,f="OK"),c&&this.shouldThrowOnError)throw new X_.default(c)}return{error:c,data:u,count:d,status:p,statusText:f}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(n,t)}returns(){return this}overrideTypes(){return this}};Ni.default=Su});var Tu=dt(ki=>{"use strict";var eS=ki&&ki.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ki,"__esModule",{value:!0});var tS=eS(Iu()),Mu=class extends tS.default{select(n){let t=!1,r=(n??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:r=t}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,t,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(s,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[n?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ki.default=Mu});var ta=dt(Oi=>{"use strict";var nS=Oi&&Oi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oi,"__esModule",{value:!0});var rS=nS(Tu()),Au=class extends rS.default{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}in(n,t){let r=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${s}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t,referencedTable:r=t}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}};Oi.default=Au});var Ru=dt(Li=>{"use strict";var iS=Li&&Li.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Li,"__esModule",{value:!0});var Pi=iS(ta()),xu=class{constructor(n,{headers:t={},schema:r,fetch:i}){this.url=n,this.headers=t,this.schema=r,this.fetch=i}select(n,{head:t=!1,count:r}={}){let i=t?"HEAD":"GET",o=!1,s=(n??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Pi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:t,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(n)){let s=n.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Pi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(n)){let l=n.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Pi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:t}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new Pi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){let t="DELETE",r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Pi.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Li.default=xu});var um=dt(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.version=void 0;na.version="0.0.0-automated"});var dm=dt(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.DEFAULT_HEADERS=void 0;var oS=um();ra.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${oS.version}`}});var hm=dt(Fi=>{"use strict";var fm=Fi&&Fi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fi,"__esModule",{value:!0});var sS=fm(Ru()),aS=fm(ta()),lS=dm(),Nu=class e{constructor(n,{headers:t={},schema:r,fetch:i}={}){this.url=n,this.headers=Object.assign(Object.assign({},lS.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=i}from(n){let t=new URL(`${this.url}/${n}`);return new sS.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new e(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${n}`),l;r||i?(s=r?"HEAD":"GET",Object.entries(t).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",l=t);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new aS.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Fi.default=Nu});var wm=dt(ce=>{"use strict";var gr=ce&&ce.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ce,"__esModule",{value:!0});ce.PostgrestError=ce.PostgrestBuilder=ce.PostgrestTransformBuilder=ce.PostgrestFilterBuilder=ce.PostgrestQueryBuilder=ce.PostgrestClient=void 0;var pm=gr(hm());ce.PostgrestClient=pm.default;var gm=gr(Ru());ce.PostgrestQueryBuilder=gm.default;var mm=gr(ta());ce.PostgrestFilterBuilder=mm.default;var ym=gr(Tu());ce.PostgrestTransformBuilder=ym.default;var vm=gr(Iu());ce.PostgrestBuilder=vm.default;var bm=gr(_u());ce.PostgrestError=bm.default;ce.default={PostgrestClient:pm.default,PostgrestQueryBuilder:gm.default,PostgrestFilterBuilder:mm.default,PostgrestTransformBuilder:ym.default,PostgrestBuilder:vm.default,PostgrestError:bm.default}});function my(e,n){return Object.is(e,n)}var re=null,Qi=!1,Ia=1,yn=Symbol("SIGNAL");function P(e){let n=re;return re=e,n}function Yu(){return re}var Xi={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Qu(e){if(Qi)throw new Error("");if(re===null)return;re.consumerOnSignalRead(e);let n=re.nextProducerIndex++;if(to(re),n<re.producerNode.length&&re.producerNode[n]!==e&&Ir(re)){let t=re.producerNode[n];eo(t,re.producerIndexOfThis[n])}re.producerNode[n]!==e&&(re.producerNode[n]=e,re.producerIndexOfThis[n]=Ir(re)?td(e,re,n):0),re.producerLastReadVersion[n]=e.version}function yy(){Ia++}function vy(e){if(!(Ir(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Ia)){if(!e.producerMustRecompute(e)&&!Ta(e)){Zu(e);return}e.producerRecomputeValue(e),Zu(e)}}function Xu(e){if(e.liveConsumerNode===void 0)return;let n=Qi;Qi=!0;try{for(let t of e.liveConsumerNode)t.dirty||wy(t)}finally{Qi=n}}function by(){return re?.consumerAllowSignalWrites!==!1}function wy(e){e.dirty=!0,Xu(e),e.consumerMarkedDirty?.(e)}function Zu(e){e.dirty=!1,e.lastCleanEpoch=Ia}function Ma(e){return e&&(e.nextProducerIndex=0),P(e)}function ed(e,n){if(P(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Ir(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)eo(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Ta(e){to(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(vy(t),r!==t.version))return!0}return!1}function Aa(e){if(to(e),Ir(e))for(let n=0;n<e.producerNode.length;n++)eo(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function td(e,n,t){if(nd(e),e.liveConsumerNode.length===0&&rd(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=td(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function eo(e,n){if(nd(e),e.liveConsumerNode.length===1&&rd(e))for(let r=0;r<e.producerNode.length;r++)eo(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];to(i),i.producerIndexOfThis[r]=n}}function Ir(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function to(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function nd(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function rd(e){return e.producerNode!==void 0}function Dy(){throw new Error}var id=Dy;function Cy(e){id(e)}function od(e){id=e}var Ey=null;function sd(e,n){by()||Cy(e),e.equal(e.value,n)||(e.value=n,_y(e))}var ad=G(v({},Xi),{equal:my,value:void 0,kind:"signal"});function _y(e){e.version++,yy(),Xu(e),Ey?.()}function I(e){return typeof e=="function"}function vn(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var no=vn(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Mr(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var Q=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(I(r))try{r()}catch(o){n=o instanceof no?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{ld(o)}catch(s){n=n??[],s instanceof no?n=[...n,...s.errors]:n.push(s)}}if(n)throw new no(n)}}add(n){var t;if(n&&n!==this)if(this.closed)ld(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Mr(t,n)}remove(n){let{_finalizers:t}=this;t&&Mr(t,n),n instanceof e&&n._removeParent(this)}};Q.EMPTY=(()=>{let e=new Q;return e.closed=!0,e})();var xa=Q.EMPTY;function ro(e){return e instanceof Q||e&&"closed"in e&&I(e.remove)&&I(e.add)&&I(e.unsubscribe)}function ld(e){I(e)?e():e.unsubscribe()}var ze={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var bn={setTimeout(e,n,...t){let{delegate:r}=bn;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=bn;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function io(e){bn.setTimeout(()=>{let{onUnhandledError:n}=ze;if(n)n(e);else throw e})}function Tr(){}var cd=Ra("C",void 0,void 0);function ud(e){return Ra("E",void 0,e)}function dd(e){return Ra("N",e,void 0)}function Ra(e,n,t){return{kind:e,value:n,error:t}}var zt=null;function wn(e){if(ze.useDeprecatedSynchronousErrorHandling){let n=!zt;if(n&&(zt={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=zt;if(zt=null,t)throw r}}else e()}function fd(e){ze.useDeprecatedSynchronousErrorHandling&&zt&&(zt.errorThrown=!0,zt.error=e)}var Gt=class extends Q{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,ro(n)&&n.add(this)):this.destination=My}static create(n,t,r){return new Dn(n,t,r)}next(n){this.isStopped?ka(dd(n),this):this._next(n)}error(n){this.isStopped?ka(ud(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ka(cd,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Sy=Function.prototype.bind;function Na(e,n){return Sy.call(e,n)}var Oa=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){oo(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){oo(r)}else oo(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){oo(t)}}},Dn=class extends Gt{constructor(n,t,r){super();let i;if(I(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&ze.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Na(n.next,o),error:n.error&&Na(n.error,o),complete:n.complete&&Na(n.complete,o)}):i=n}this.destination=new Oa(i)}};function oo(e){ze.useDeprecatedSynchronousErrorHandling?fd(e):io(e)}function Iy(e){throw e}function ka(e,n){let{onStoppedNotification:t}=ze;t&&bn.setTimeout(()=>t(e,n))}var My={closed:!0,next:Tr,error:Iy,complete:Tr};var Cn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function be(e){return e}function Pa(...e){return La(e)}function La(e){return e.length===0?be:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var $=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=Ay(t)?t:new Dn(t,r,i);return wn(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=hd(r),new r((i,o)=>{let s=new Dn({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Cn](){return this}pipe(...t){return La(t)(this)}toPromise(t){return t=hd(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function hd(e){var n;return(n=e??ze.Promise)!==null&&n!==void 0?n:Promise}function Ty(e){return e&&I(e.next)&&I(e.error)&&I(e.complete)}function Ay(e){return e&&e instanceof Gt||Ty(e)&&ro(e)}function Fa(e){return I(e?.lift)}function F(e){return n=>{if(Fa(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function j(e,n,t,r,i){return new ja(e,n,t,r,i)}var ja=class extends Gt{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function En(){return F((e,n)=>{let t=null;e._refCount++;let r=j(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var _n=class extends ${constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Fa(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Q;let t=this.getSubject();n.add(this.source.subscribe(j(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Q.EMPTY)}return n}refCount(){return En()(this)}};var pd=vn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var K=(()=>{class e extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new so(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new pd}next(t){wn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){wn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){wn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?xa:(this.currentObservers=null,o.push(t),new Q(()=>{this.currentObservers=null,Mr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new $;return t.source=this,t}}return e.create=(n,t)=>new so(n,t),e})(),so=class extends K{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:xa}};var ae=class extends K{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var pe=new $(e=>e.complete());function gd(e){return e&&I(e.schedule)}function md(e){return e[e.length-1]}function yd(e){return I(md(e))?e.pop():void 0}function Mt(e){return gd(md(e))?e.pop():void 0}function bd(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})}function vd(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function qt(e){return this instanceof qt?(this.v=e,this):new qt(e)}function wd(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(i[f]=function(m){return new Promise(function(b,C){o.push([f,m,b,C])>1||l(f,m)})},g&&(i[f]=g(i[f])))}function l(f,g){try{c(r[f](g))}catch(m){p(o[0][3],m)}}function c(f){f.value instanceof qt?Promise.resolve(f.value.v).then(u,d):p(o[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function p(f,g){f(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Dd(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof vd=="function"?vd(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var ao=e=>e&&typeof e.length=="number"&&typeof e!="function";function lo(e){return I(e?.then)}function co(e){return I(e[Cn])}function uo(e){return Symbol.asyncIterator&&I(e?.[Symbol.asyncIterator])}function fo(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function xy(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ho=xy();function po(e){return I(e?.[ho])}function go(e){return wd(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:i}=yield qt(t.read());if(i)return yield qt(void 0);yield yield qt(r)}}finally{t.releaseLock()}})}function mo(e){return I(e?.getReader)}function oe(e){if(e instanceof $)return e;if(e!=null){if(co(e))return Ry(e);if(ao(e))return Ny(e);if(lo(e))return ky(e);if(uo(e))return Cd(e);if(po(e))return Oy(e);if(mo(e))return Py(e)}throw fo(e)}function Ry(e){return new $(n=>{let t=e[Cn]();if(I(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ny(e){return new $(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function ky(e){return new $(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,io)})}function Oy(e){return new $(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function Cd(e){return new $(n=>{Ly(e,n).catch(t=>n.error(t))})}function Py(e){return Cd(go(e))}function Ly(e,n){var t,r,i,o;return bd(this,void 0,void 0,function*(){try{for(t=Dd(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})}function ge(e,n,t,r=0,i=!1){let o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function yo(e,n=0){return F((t,r)=>{t.subscribe(j(r,i=>ge(r,e,()=>r.next(i),n),()=>ge(r,e,()=>r.complete(),n),i=>ge(r,e,()=>r.error(i),n)))})}function vo(e,n=0){return F((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function Ed(e,n){return oe(e).pipe(vo(n),yo(n))}function _d(e,n){return oe(e).pipe(vo(n),yo(n))}function Sd(e,n){return new $(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function Id(e,n){return new $(t=>{let r;return ge(t,n,()=>{r=e[ho](),ge(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>I(r?.return)&&r.return()})}function bo(e,n){if(!e)throw new Error("Iterable cannot be null");return new $(t=>{ge(t,n,()=>{let r=e[Symbol.asyncIterator]();ge(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Md(e,n){return bo(go(e),n)}function Td(e,n){if(e!=null){if(co(e))return Ed(e,n);if(ao(e))return Sd(e,n);if(lo(e))return _d(e,n);if(uo(e))return bo(e,n);if(po(e))return Id(e,n);if(mo(e))return Md(e,n)}throw fo(e)}function Z(e,n){return n?Td(e,n):oe(e)}function E(...e){let n=Mt(e);return Z(e,n)}function Sn(e,n){let t=I(e)?e:()=>e,r=i=>i.error(t());return new $(n?i=>n.schedule(r,0,i):r)}function Ba(e){return!!e&&(e instanceof $||I(e.lift)&&I(e.subscribe))}var ft=vn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function B(e,n){return F((t,r)=>{let i=0;t.subscribe(j(r,o=>{r.next(e.call(n,o,i++))}))})}var{isArray:Fy}=Array;function jy(e,n){return Fy(n)?e(...n):e(n)}function Ad(e){return B(n=>jy(e,n))}var{isArray:By}=Array,{getPrototypeOf:Vy,prototype:$y,keys:Uy}=Object;function xd(e){if(e.length===1){let n=e[0];if(By(n))return{args:n,keys:null};if(Hy(n)){let t=Uy(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function Hy(e){return e&&typeof e=="object"&&Vy(e)===$y}function Rd(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function Ar(...e){let n=Mt(e),t=yd(e),{args:r,keys:i}=xd(e);if(r.length===0)return Z([],n);let o=new $(zy(r,n,i?s=>Rd(i,s):be));return t?o.pipe(Ad(t)):o}function zy(e,n,t=be){return r=>{Nd(n,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)Nd(n,()=>{let c=Z(e[l],n),u=!1;c.subscribe(j(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Nd(e,n,t){e?ge(t,e,n):n()}function kd(e,n,t,r,i,o,s,a){let l=[],c=0,u=0,d=!1,p=()=>{d&&!l.length&&!c&&n.complete()},f=m=>c<r?g(m):l.push(m),g=m=>{o&&n.next(m),c++;let b=!1;oe(t(m,u++)).subscribe(j(n,C=>{i?.(C),o?f(C):n.next(C)},()=>{b=!0},void 0,()=>{if(b)try{for(c--;l.length&&c<r;){let C=l.shift();s?ge(n,s,()=>g(C)):g(C)}p()}catch(C){n.error(C)}}))};return e.subscribe(j(n,f,()=>{d=!0,p()})),()=>{a?.()}}function X(e,n,t=1/0){return I(n)?X((r,i)=>B((o,s)=>n(r,o,i,s))(oe(e(r,i))),t):(typeof n=="number"&&(t=n),F((r,i)=>kd(r,i,e,t)))}function In(e=1/0){return X(be,e)}function Od(){return In(1)}function Mn(...e){return Od()(Z(e,Mt(e)))}function wo(e){return new $(n=>{oe(e()).subscribe(n)})}function Ae(e,n){return F((t,r)=>{let i=0;t.subscribe(j(r,o=>e.call(n,o,i++)&&r.next(o)))})}function Tt(e){return F((n,t)=>{let r=null,i=!1,o;r=n.subscribe(j(t,void 0,void 0,s=>{o=oe(e(s,Tt(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Pd(e,n,t,r,i){return(o,s)=>{let a=t,l=n,c=0;o.subscribe(j(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Wt(e,n){return I(n)?X(e,n,1):X(e,1)}function At(e){return F((n,t)=>{let r=!1;n.subscribe(j(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function ht(e){return e<=0?()=>pe:F((n,t)=>{let r=0;n.subscribe(j(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function Do(e=Gy){return F((n,t)=>{let r=!1;n.subscribe(j(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function Gy(){return new ft}function xr(e){return F((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function pt(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Ae((i,o)=>e(i,o,r)):be,ht(1),t?At(n):Do(()=>new ft))}function Tn(e){return e<=0?()=>pe:F((n,t)=>{let r=[];n.subscribe(j(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Va(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Ae((i,o)=>e(i,o,r)):be,Tn(1),t?At(n):Do(()=>new ft))}function $a(e,n){return F(Pd(e,n,arguments.length>=2,!0))}function Ua(...e){let n=Mt(e);return F((t,r)=>{(n?Mn(e,t,n):Mn(e,t)).subscribe(r)})}function xe(e,n){return F((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(j(r,l=>{i?.unsubscribe();let c=0,u=o++;oe(e(l,u)).subscribe(i=j(r,d=>r.next(n?n(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ha(e){return F((n,t)=>{oe(e).subscribe(j(t,()=>t.complete(),Tr)),!t.closed&&n.subscribe(t)})}function le(e,n,t){let r=I(e)||n||t?{next:e,error:n,complete:t}:e;return r?F((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(j(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):be}var Df="https://g.co/ng/security#xss",D=class extends Error{code;constructor(n,t){super(Bl(n,t)),this.code=n}};function Bl(e,n){return`${`NG0${Math.abs(e)}`}${n?": "+n:""}`}var Cf=Symbol("InputSignalNode#UNSET"),qy=G(v({},ad),{transformFn:void 0,applyValueToInputSignal(e,n){sd(e,n)}});function Ef(e,n){let t=Object.create(qy);t.value=e,t.transformFn=n?.transform;function r(){if(Qu(t),t.value===Cf)throw new D(-950,!1);return t.value}return r[yn]=t,r}function Zo(e){return{toString:e}.toString()}var Qa=globalThis;function H(e){for(let n in e)if(e[n]===H)return n;throw Error("Could not find renamed property on target object.")}function De(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(De).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Ld(e,n){return e?n?`${e} ${n}`:e:n||""}var Wy=H({__forward_ref__:H});function _f(e){return e.__forward_ref__=_f,e.toString=function(){return De(this())},e}function Ne(e){return Sf(e)?e():e}function Sf(e){return typeof e=="function"&&e.hasOwnProperty(Wy)&&e.__forward_ref__===_f}function w(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Yo(e){return{providers:e.providers||[],imports:e.imports||[]}}function Qo(e){return Fd(e,Mf)||Fd(e,Tf)}function If(e){return Qo(e)!==null}function Fd(e,n){return e.hasOwnProperty(n)?e[n]:null}function Ky(e){let n=e&&(e[Mf]||e[Tf]);return n||null}function jd(e){return e&&(e.hasOwnProperty(Bd)||e.hasOwnProperty(Jy))?e[Bd]:null}var Mf=H({\u0275prov:H}),Bd=H({\u0275inj:H}),Tf=H({ngInjectableDef:H}),Jy=H({ngInjectorDef:H}),_=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=w({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Af(e){return e&&!!e.\u0275providers}var Zy=H({\u0275cmp:H}),Yy=H({\u0275dir:H}),Qy=H({\u0275pipe:H}),Xy=H({\u0275mod:H}),To=H({\u0275fac:H}),Or=H({__NG_ELEMENT_ID__:H}),Vd=H({__NG_ENV_ID__:H});function Xo(e){return typeof e=="string"?e:e==null?"":String(e)}function ev(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Xo(e)}function tv(e,n){throw new D(-200,e)}function Vl(e,n){throw new D(-201,!1)}var x=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(x||{}),Xa;function xf(){return Xa}function Re(e){let n=Xa;return Xa=e,n}function Rf(e,n,t){let r=Qo(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&x.Optional)return null;if(n!==void 0)return n;Vl(e,"Injector")}var nv={},Pr=nv,rv="__NG_DI_FLAG__",Ao="ngTempTokenPath",iv="ngTokenPath",ov=/\n/gm,sv="\u0275",$d="__source",kn;function av(){return kn}function xt(e){let n=kn;return kn=e,n}function lv(e,n=x.Default){if(kn===void 0)throw new D(-203,!1);return kn===null?Rf(e,void 0,n):kn.get(e,n&x.Optional?null:void 0,n)}function M(e,n=x.Default){return(xf()||lv)(Ne(e),n)}function y(e,n=x.Default){return M(e,es(n))}function es(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function el(e){let n=[];for(let t=0;t<e.length;t++){let r=Ne(e[t]);if(Array.isArray(r)){if(r.length===0)throw new D(900,!1);let i,o=x.Default;for(let s=0;s<r.length;s++){let a=r[s],l=cv(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}n.push(M(i,o))}else n.push(M(r))}return n}function cv(e){return e[rv]}function uv(e,n,t,r){let i=e[Ao];throw n[$d]&&i.unshift(n[$d]),e.message=dv(`
`+e.message,i,t,r),e[iv]=i,e[Ao]=null,e}function dv(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==sv?e.slice(2):e;let i=De(n);if(Array.isArray(n))i=n.map(De).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):De(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(ov,`
  `)}`}function Ln(e,n){let t=e.hasOwnProperty(To);return t?e[To]:null}function $l(e,n){e.forEach(t=>Array.isArray(t)?$l(t,n):n(t))}function Nf(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function xo(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}var Fn={},Ye=[],jn=new _(""),kf=new _("",-1),Of=new _(""),Ro=class{get(n,t=Pr){if(t===Pr){let r=new Error(`NullInjectorError: No provider for ${De(n)}!`);throw r.name="NullInjectorError",r}return t}};function Pf(e,n){let t=e[Xy]||null;if(!t&&n===!0)throw new Error(`Type ${De(e)} does not have '\u0275mod' property.`);return t}function kt(e){return e[Zy]||null}function Lf(e){return e[Yy]||null}function Ff(e){return e[Qy]||null}function jf(e){let n=kt(e)||Lf(e)||Ff(e);return n!==null&&n.standalone}function ts(e){return{\u0275providers:e}}function fv(...e){return{\u0275providers:Bf(!0,e),\u0275fromNgModule:!0}}function Bf(e,...n){let t=[],r=new Set,i,o=s=>{t.push(s)};return $l(n,s=>{let a=s;tl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Vf(i,o),t}function Vf(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];Ul(i,o=>{n(o,r)})}}function tl(e,n,t,r){if(e=Ne(e),!e)return!1;let i=null,o=jd(e),s=!o&&kt(e);if(!o&&!s){let l=e.ngModule;if(o=jd(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)tl(c,n,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{$l(o.imports,u=>{tl(u,n,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Vf(c,n)}if(!a){let c=Ln(i)||(()=>new i);n({provide:i,useFactory:c,deps:Ye},i),n({provide:Of,useValue:i,multi:!0},i),n({provide:jn,useValue:()=>M(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;Ul(l,u=>{n(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function Ul(e,n){for(let t of e)Af(t)&&(t=t.\u0275providers),Array.isArray(t)?Ul(t,n):n(t)}var hv=H({provide:String,useValue:H});function $f(e){return e!==null&&typeof e=="object"&&hv in e}function pv(e){return!!(e&&e.useExisting)}function gv(e){return!!(e&&e.useFactory)}function nl(e){return typeof e=="function"}var ns=new _(""),Eo={},mv={},za;function Hl(){return za===void 0&&(za=new Ro),za}var Ee=class{},Lr=class extends Ee{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,il(n,s=>this.processProvider(s)),this.records.set(kf,An(void 0,this)),i.has("environment")&&this.records.set(Ee,An(void 0,this));let o=this.records.get(ns);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Of,Ye,x.Self))}destroy(){Nr(this),this._destroyed=!0;let n=P(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),P(n)}}onDestroy(n){return Nr(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Nr(this);let t=xt(this),r=Re(void 0),i;try{return n()}finally{xt(t),Re(r)}}get(n,t=Pr,r=x.Default){if(Nr(this),n.hasOwnProperty(Vd))return n[Vd](this);r=es(r);let i,o=xt(this),s=Re(void 0);try{if(!(r&x.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=Cv(n)&&Qo(n);c&&this.injectableDefInScope(c)?l=An(rl(n),Eo):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=r&x.Self?Hl():this.parent;return t=r&x.Optional&&t===Pr?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Ao]=a[Ao]||[]).unshift(De(n)),o)throw a;return uv(a,n,"R3InjectorError",this.source)}else throw a}finally{Re(s),xt(o)}}resolveInjectorInitializers(){let n=P(null),t=xt(this),r=Re(void 0),i;try{let o=this.get(jn,Ye,x.Self);for(let s of o)s()}finally{xt(t),Re(r),P(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(De(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=Ne(n);let t=nl(n)?n:Ne(n&&n.provide),r=vv(n);if(!nl(n)&&n.multi===!0){let i=this.records.get(t);i||(i=An(void 0,Eo,!0),i.factory=()=>el(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){let r=P(null);try{return t.value===Eo&&(t.value=mv,t.value=t.factory()),typeof t.value=="object"&&t.value&&Dv(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{P(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=Ne(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function rl(e){let n=Qo(e),t=n!==null?n.factory:Ln(e);if(t!==null)return t;if(e instanceof _)throw new D(204,!1);if(e instanceof Function)return yv(e);throw new D(204,!1)}function yv(e){if(e.length>0)throw new D(204,!1);let t=Ky(e);return t!==null?()=>t.factory(e):()=>new e}function vv(e){if($f(e))return An(void 0,e.useValue);{let n=bv(e);return An(n,Eo)}}function bv(e,n,t){let r;if(nl(e)){let i=Ne(e);return Ln(i)||rl(i)}else if($f(e))r=()=>Ne(e.useValue);else if(gv(e))r=()=>e.useFactory(...el(e.deps||[]));else if(pv(e))r=()=>M(Ne(e.useExisting));else{let i=Ne(e&&(e.useClass||e.provide));if(wv(e))r=()=>new i(...el(e.deps));else return Ln(i)||rl(i)}return r}function Nr(e){if(e.destroyed)throw new D(205,!1)}function An(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function wv(e){return!!e.deps}function Dv(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Cv(e){return typeof e=="function"||typeof e=="object"&&e instanceof _}function il(e,n){for(let t of e)Array.isArray(t)?il(t,n):t&&Af(t)?il(t.\u0275providers,n):n(t)}function Pe(e,n){e instanceof Lr&&Nr(e);let t,r=xt(e),i=Re(void 0);try{return n()}finally{xt(r),Re(i)}}function Uf(){return xf()!==void 0||av()!=null}function Ev(e){if(!Uf())throw new D(-203,!1)}function _v(e){return typeof e=="function"}var yt=0,O=1,S=2,fe=3,qe=4,Ke=5,Fr=6,No=7,ie=8,jr=9,gt=10,ue=11,Br=12,Ud=13,qn=14,We=15,Bn=16,xn=17,Vn=18,rs=19,Hf=20,Rt=21,Ga=22,ko=23,Ce=24,On=25,ke=26,zf=1;var Jt=7,Oo=8,Po=9,de=10;function Nt(e){return Array.isArray(e)&&typeof e[zf]=="object"}function vt(e){return Array.isArray(e)&&e[zf]===!0}function Gf(e){return(e.flags&4)!==0}function Wn(e){return e.componentOffset>-1}function zl(e){return(e.flags&1)===1}function Xt(e){return!!e.template}function Lo(e){return(e[S]&512)!==0}function Gr(e){return(e[S]&256)===256}var ol=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function qf(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var is=(()=>{let e=()=>Wf;return e.ngInherit=!0,e})();function Wf(e){return e.type.prototype.ngOnChanges&&(e.setInput=Iv),Sv}function Sv(){let e=Jf(this),n=e?.current;if(n){let t=e.previous;if(t===Fn)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function Iv(e,n,t,r,i){let o=this.declaredInputs[r],s=Jf(e)||Mv(e,{previous:Fn,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new ol(c&&c.currentValue,t,l===Fn),qf(e,n,i,t)}var Kf="__ngSimpleChanges__";function Jf(e){return e[Kf]||null}function Mv(e,n){return e[Kf]=n}var Hd=null;var U=function(e,n=null,t){Hd?.(e,n,t)},Zf="svg",Tv="math";function Xe(e){for(;Array.isArray(e);)e=e[yt];return e}function Av(e,n){return Xe(n[e])}function nt(e,n){return Xe(n[e.index])}function Gl(e,n){return e.data[n]}function et(e,n){let t=n[e];return Nt(t)?t:t[yt]}function ql(e){return(e[S]&128)===128}function xv(e){return vt(e[fe])}function $n(e,n){return n==null?null:e[n]}function Yf(e){e[xn]=0}function Wl(e){e[S]&1024||(e[S]|=1024,ql(e)&&qr(e))}function Rv(e,n){for(;e>0;)n=n[qn],e--;return n}function os(e){return!!(e[S]&9216||e[Ce]?.dirty)}function sl(e){e[gt].changeDetectionScheduler?.notify(8),e[S]&64&&(e[S]|=1024),os(e)&&qr(e)}function qr(e){e[gt].changeDetectionScheduler?.notify(0);let n=Zt(e);for(;n!==null&&!(n[S]&8192||(n[S]|=8192,!ql(n)));)n=Zt(n)}function Qf(e,n){if(Gr(e))throw new D(911,!1);e[Rt]===null&&(e[Rt]=[]),e[Rt].push(n)}function Nv(e,n){if(e[Rt]===null)return;let t=e[Rt].indexOf(n);t!==-1&&e[Rt].splice(t,1)}function Zt(e){let n=e[fe];return vt(n)?n[fe]:n}function kv(e){return e[No]??=[]}function Ov(e){return e.cleanup??=[]}var N={lFrame:sh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var al=!1;function Pv(){return N.lFrame.elementDepthCount}function Lv(){N.lFrame.elementDepthCount++}function Fv(){N.lFrame.elementDepthCount--}function Xf(){return N.bindingsEnabled}function jv(){return N.skipHydrationRootTNode!==null}function Bv(e){return N.skipHydrationRootTNode===e}function Vv(){N.skipHydrationRootTNode=null}function q(){return N.lFrame.lView}function bt(){return N.lFrame.tView}function Lt(e){return N.lFrame.contextLView=e,e[ie]}function Ft(e){return N.lFrame.contextLView=null,e}function Le(){let e=eh();for(;e!==null&&e.type===64;)e=e.parent;return e}function eh(){return N.lFrame.currentTNode}function $v(){let e=N.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Wr(e,n){let t=N.lFrame;t.currentTNode=e,t.isParent=n}function th(){return N.lFrame.isParent}function Uv(){N.lFrame.isParent=!1}function nh(){return al}function zd(e){let n=al;return al=e,n}function Hv(){let e=N.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function zv(e){return N.lFrame.bindingIndex=e}function Kr(){return N.lFrame.bindingIndex++}function Gv(){return N.lFrame.inI18n}function qv(e,n){let t=N.lFrame;t.bindingIndex=t.bindingRootIndex=e,ll(n)}function Wv(){return N.lFrame.currentDirectiveIndex}function ll(e){N.lFrame.currentDirectiveIndex=e}function rh(e){N.lFrame.currentQueryIndex=e}function Kv(e){let n=e[O];return n.type===2?n.declTNode:n.type===1?e[Ke]:null}function ih(e,n,t){if(t&x.SkipSelf){let i=n,o=e;for(;i=i.parent,i===null&&!(t&x.Host);)if(i=Kv(o),i===null||(o=o[qn],i.type&10))break;if(i===null)return!1;n=i,e=o}let r=N.lFrame=oh();return r.currentTNode=n,r.lView=e,!0}function Kl(e){let n=oh(),t=e[O];N.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function oh(){let e=N.lFrame,n=e===null?null:e.child;return n===null?sh(e):n}function sh(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function ah(){let e=N.lFrame;return N.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var lh=ah;function Jl(){let e=ah();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Jv(e){return(N.lFrame.contextLView=Rv(e,N.lFrame.contextLView))[ie]}function ss(){return N.lFrame.selectedIndex}function Yt(e){N.lFrame.selectedIndex=e}function ch(){let e=N.lFrame;return Gl(e.tView,e.selectedIndex)}function Jr(){N.lFrame.currentNamespace=Zf}function as(){Zv()}function Zv(){N.lFrame.currentNamespace=null}function Yv(){return N.lFrame.currentNamespace}var uh=!0;function Zl(){return uh}function Yl(e){uh=e}function Qv(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=Wf(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function dh(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function _o(e,n,t){fh(e,n,3,t)}function So(e,n,t,r){(e[S]&3)===t&&fh(e,n,t,r)}function qa(e,n){let t=e[S];(t&3)===n&&(t&=16383,t+=1,e[S]=t)}function fh(e,n,t,r){let i=r!==void 0?e[xn]&65535:0,o=r??-1,s=n.length-1,a=0;for(let l=i;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(e[xn]+=65536),(a<o||o==-1)&&(Xv(e,t,n,l),e[xn]=(e[xn]&4294901760)+l+2),l++}function Gd(e,n){U(4,e,n);let t=P(null);try{n.call(e)}finally{P(t),U(5,e,n)}}function Xv(e,n,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=e[s];i?e[S]>>14<e[xn]>>16&&(e[S]&3)===n&&(e[S]+=16384,Gd(a,o)):Gd(a,o)}var Pn=-1,Vr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=r}};function eb(e){return e instanceof Vr}function tb(e){return(e.flags&8)!==0}function nb(e){return(e.flags&16)!==0}function rb(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{let o=i,s=t[++r];ib(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function hh(e){return e===3||e===4||e===6}function ib(e){return e.charCodeAt(0)===64}function Ql(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?qd(e,t,i,null,n[++r]):qd(e,t,i,null,null))}}return e}function qd(e,n,t,r,i){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var Wa={},cl=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=es(r);let i=this.injector.get(n,Wa,r);return i!==Wa||t===Wa?i:this.parentInjector.get(n,t,r)}};function ph(e){return e!==Pn}function Fo(e){return e&32767}function ob(e){return e>>16}function jo(e,n){let t=ob(e),r=n;for(;t>0;)r=r[qn],t--;return r}var ul=!0;function Wd(e){let n=ul;return ul=e,n}var sb=256,gh=sb-1,mh=5,ab=0,Qe={};function lb(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Or)&&(r=t[Or]),r==null&&(r=t[Or]=ab++);let i=r&gh,o=1<<i;n.data[e+(i>>mh)]|=o}function yh(e,n){let t=vh(e,n);if(t!==-1)return t;let r=n[O];r.firstCreatePass&&(e.injectorIndex=n.length,Ka(r.data,e),Ka(n,null),Ka(r.blueprint,null));let i=Xl(e,n),o=e.injectorIndex;if(ph(i)){let s=Fo(i),a=jo(i,n),l=a[O].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=i,o}function Ka(e,n){e.push(0,0,0,0,0,0,0,0,n)}function vh(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function Xl(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=Eh(i),r===null)return Pn;if(t++,i=i[qn],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Pn}function cb(e,n,t){lb(e,n,t)}function ub(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(hh(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===n)return t[i+1];i=i+2}}}return null}function bh(e,n,t){if(t&x.Optional||e!==void 0)return e;Vl(n,"NodeInjector")}function wh(e,n,t,r){if(t&x.Optional&&r===void 0&&(r=null),(t&(x.Self|x.Host))===0){let i=e[jr],o=Re(void 0);try{return i?i.get(n,r,t&x.Optional):Rf(n,r,t&x.Optional)}finally{Re(o)}}return bh(r,n,t)}function Dh(e,n,t,r=x.Default,i){if(e!==null){if(n[S]&2048&&!(r&x.Self)){let s=gb(e,n,t,r,Qe);if(s!==Qe)return s}let o=Ch(e,n,t,r,Qe);if(o!==Qe)return o}return wh(n,t,r,i)}function Ch(e,n,t,r,i){let o=hb(t);if(typeof o=="function"){if(!ih(n,e,r))return r&x.Host?bh(i,t,r):wh(n,t,r,i);try{let s;if(s=o(r),s==null&&!(r&x.Optional))Vl(t);else return s}finally{lh()}}else if(typeof o=="number"){let s=null,a=vh(e,n),l=Pn,c=r&x.Host?n[We][Ke]:null;for((a===-1||r&x.SkipSelf)&&(l=a===-1?Xl(e,n):n[a+8],l===Pn||!Jd(r,!1)?a=-1:(s=n[O],a=Fo(l),n=jo(l,n)));a!==-1;){let u=n[O];if(Kd(o,a,u.data)){let d=db(a,n,t,s,r,c);if(d!==Qe)return d}l=n[a+8],l!==Pn&&Jd(r,n[O].data[a+8]===c)&&Kd(o,a,n)?(s=u,a=Fo(l),n=jo(l,n)):a=-1}}return i}function db(e,n,t,r,i,o){let s=n[O],a=s.data[e+8],l=r==null?Wn(a)&&ul:r!=s&&(a.type&3)!==0,c=i&x.Host&&o===a,u=fb(a,s,t,l,c);return u!==null?dl(n,s,u,a):Qe}function fb(e,n,t,r,i){let o=e.providerIndexes,s=n.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=r?a:a+u,p=i?a+u:c;for(let f=d;f<p;f++){let g=s[f];if(f<l&&t===g||f>=l&&g.type===t)return f}if(i){let f=s[l];if(f&&Xt(f)&&f.type===t)return l}return null}function dl(e,n,t,r){let i=e[t],o=n.data;if(eb(i)){let s=i;s.resolving&&tv(ev(o[t]));let a=Wd(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Re(s.injectImpl):null,u=ih(e,r,x.Default);try{i=e[t]=s.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&Qv(t,o[t],n)}finally{c!==null&&Re(c),Wd(a),s.resolving=!1,lh()}}return i}function hb(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(Or)?e[Or]:void 0;return typeof n=="number"?n>=0?n&gh:pb:n}function Kd(e,n,t){let r=1<<e;return!!(t[n+(e>>mh)]&r)}function Jd(e,n){return!(e&x.Self)&&!(e&x.Host&&n)}var Kt=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Dh(this._tNode,this._lView,n,es(r),t)}};function pb(){return new Kt(Le(),q())}function ec(e){return Zo(()=>{let n=e.prototype.constructor,t=n[To]||fl(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[To]||fl(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function fl(e){return Sf(e)?()=>{let n=fl(Ne(e));return n&&n()}:Ln(e)}function gb(e,n,t,r,i){let o=e,s=n;for(;o!==null&&s!==null&&s[S]&2048&&!Lo(s);){let a=Ch(o,s,t,r|x.Self,Qe);if(a!==Qe)return a;let l=o.parent;if(!l){let c=s[Hf];if(c){let u=c.get(t,Qe,r);if(u!==Qe)return u}l=Eh(s),s=s[qn]}o=l}return i}function Eh(e){let n=e[O],t=n.type;return t===2?n.declTNode:t===1?e[Ke]:null}function tc(e){return ub(Le(),e)}function Zd(e,n=null,t=null,r){let i=_h(e,n,t,r);return i.resolveInjectorInitializers(),i}function _h(e,n=null,t=null,r,i=new Set){let o=[t||Ye,fv(e)];return r=r||(typeof e=="object"?void 0:De(e)),new Lr(o,n||Hl(),r||null,i)}var Oe=class e{static THROW_IF_NOT_FOUND=Pr;static NULL=new Ro;static create(n,t){if(Array.isArray(n))return Zd({name:""},t,n,"");{let r=n.name??"";return Zd({name:r},n.parent,n.providers,r)}}static \u0275prov=w({token:e,providedIn:"any",factory:()=>M(kf)});static __NG_ELEMENT_ID__=-1};var mb=new _("");mb.__NG_ELEMENT_ID__=e=>{let n=Le();if(n===null)throw new D(204,!1);if(n.type&2)return n.value;if(e&x.Optional)return null;throw new D(204,!1)};var Sh=!1,Zr=(()=>{class e{static __NG_ELEMENT_ID__=yb;static __NG_ENV_ID__=t=>t}return e})(),hl=class extends Zr{_lView;constructor(n){super(),this._lView=n}onDestroy(n){return Qf(this._lView,n),()=>Nv(this._lView,n)}};function yb(){return new hl(q())}var Un=class{},ls=new _("",{providedIn:"root",factory:()=>!1});var Ih=new _(""),Mh=new _(""),Kn=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ae(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}return e})();var pl=class extends K{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Uf()&&(this.destroyRef=y(Zr,{optional:!0})??void 0,this.pendingTasks=y(Kn,{optional:!0})??void 0)}emit(n){let t=P(null);try{super.next(n)}finally{P(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof Q&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{n(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},we=pl;function Bo(...e){}function Th(e){let n,t;function r(){e=Bo;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Yd(e){return queueMicrotask(()=>e()),()=>{e=Bo}}var nc="isAngularZone",Vo=nc+"_ID",vb=0,ee=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new we(!1);onMicrotaskEmpty=new we(!1);onStable=new we(!1);onError=new we(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Sh}=n;if(typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Db(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(nc)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new D(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,bb,Bo,Bo);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},bb={};function rc(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function wb(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){Th(()=>{e.callbackScheduled=!1,gl(e),e.isCheckStableRunning=!0,rc(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),gl(e)}function Db(e){let n=()=>{wb(e)},t=vb++;e._inner=e._inner.fork({name:"angular",properties:{[nc]:!0,[Vo]:t,[Vo+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(Cb(l))return r.invokeTask(o,s,a,l);try{return Qd(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),Xd(e)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return Qd(e),r.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Eb(l)&&n(),Xd(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,gl(e),rc(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function gl(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Qd(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Xd(e){e._nesting--,rc(e)}var ml=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new we;onMicrotaskEmpty=new we;onStable=new we;onError=new we;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function Cb(e){return Ah(e,"__ignore_ng_zone__")}function Eb(e){return Ah(e,"__scheduler_tick__")}function Ah(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var mt=class{_console=console;handleError(n){this._console.error("ERROR",n)}},_b=new _("",{providedIn:"root",factory:()=>{let e=y(ee),n=y(mt);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function ef(e,n){return Ef(e,n)}function Sb(e){return Ef(Cf,e)}var xh=(ef.required=Sb,ef);function Ib(){return cs(Le(),q())}function cs(e,n){return new Yr(nt(e,n))}var Yr=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Ib}return e})();function Rh(e){return(e.flags&128)===128}var Nh=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Nh||{}),kh=new Map,Mb=0;function Tb(){return Mb++}function Ab(e){kh.set(e[rs],e)}function yl(e){kh.delete(e[rs])}var tf="__ngContext__";function Qr(e,n){Nt(n)?(e[tf]=n[rs],Ab(n)):e[tf]=n}function Oh(e){return Lh(e[Br])}function Ph(e){return Lh(e[qe])}function Lh(e){for(;e!==null&&!vt(e);)e=e[qe];return e}var vl;function Fh(e){vl=e}function xb(){if(vl!==void 0)return vl;if(typeof document<"u")return document;throw new D(210,!1)}var ic=new _("",{providedIn:"root",factory:()=>Rb}),Rb="ng",oc=new _(""),Xr=new _("",{providedIn:"platform",factory:()=>"unknown"});var sc=new _("",{providedIn:"root",factory:()=>xb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Nb="h",kb="b";var jh=!1,Ob=new _("",{providedIn:"root",factory:()=>jh});var ac=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(ac||{}),Jn=new _(""),nf=new Set;function Zn(e){nf.has(e)||(nf.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Bh=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=Pb}return e})();function Pb(){return new Bh(q(),Le())}var Rn=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Rn||{}),Vh=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}return e})(),Lb=[Rn.EarlyRead,Rn.Write,Rn.MixedReadWrite,Rn.Read],Fb=(()=>{class e{ngZone=y(ee);scheduler=y(Un);errorHandler=y(mt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){y(Jn,{optional:!0})}execute(){let t=this.sequences.size>0;t&&U(16),this.executing=!0;for(let r of Lb)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&U(17)}register(t){let{view:r}=t;r!==void 0?((r[On]??=[]).push(t),qr(r),r[S]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(ac.AFTER_NEXT_RENDER,t):t()}static \u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}return e})(),bl=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,i,o,s=null){this.impl=n,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[On];n&&(this.view[On]=n.filter(t=>t!==this))}};function lc(e,n){!n?.injector&&Ev(lc);let t=n?.injector??y(Oe);return Zn("NgAfterNextRender"),Bb(e,t,n,!0)}function jb(e,n){if(e instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[n]=e,t}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function Bb(e,n,t,r){let i=n.get(Vh);i.impl??=n.get(Fb);let o=n.get(Jn,null,{optional:!0}),s=t?.phase??Rn.MixedReadWrite,a=t?.manualCleanup!==!0?n.get(Zr):null,l=n.get(Bh,null,{optional:!0}),c=new bl(i.impl,jb(e,s),l?.view,r,a,o?.snapshot(null));return i.impl.register(c),c}var Vb=()=>null;function $h(e,n,t=!1){return Vb(e,n,t)}function Uh(e,n){let t=e.contentQueries;if(t!==null){let r=P(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=e.data[s];rh(o),a.contentQueries(2,n[s],s)}}}finally{P(r)}}}function wl(e,n,t){rh(0);let r=P(null);try{n(e,t)}finally{P(r)}}function Hh(e,n,t){if(Gf(n)){let r=P(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{P(r)}}}var tt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(tt||{});var Co;function $b(){if(Co===void 0&&(Co=null,Qa.trustedTypes))try{Co=Qa.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Co}function rf(e){return $b()?.createScriptURL(e)||e}var $o=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Df})`}};function us(e){return e instanceof $o?e.changingThisBreaksApplicationSecurity:e}function cc(e,n){let t=Ub(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Df})`)}return t===n}function Ub(e){return e instanceof $o&&e.getTypeName()||null}var Hb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zh(e){return e=String(e),e.match(Hb)?e:"unsafe:"+e}var ds=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ds||{});function ei(e){let n=qh();return n?n.sanitize(ds.URL,e)||"":cc(e,"URL")?us(e):zh(Xo(e))}function zb(e){let n=qh();if(n)return rf(n.sanitize(ds.RESOURCE_URL,e)||"");if(cc(e,"ResourceURL"))return rf(us(e));throw new D(904,!1)}function Gb(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?zb:ei}function Gh(e,n,t){return Gb(n,t)(e)}function qh(){let e=q();return e&&e[gt].sanitizer}function Wh(e){return e instanceof Function?e():e}function qb(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}var Kh="ng-template";function Wb(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&qb(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(uc(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function uc(e){return e.type===4&&e.value!==Kh}function Kb(e,n,t){let r=e.type===4&&!t?Kh:e.value;return n===r}function Jb(e,n,t){let r=4,i=e.attrs,o=i!==null?Qb(i):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!Ge(r)&&!Ge(l))return!1;if(s&&Ge(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!Kb(e,l,t)||l===""&&n.length===1){if(Ge(r))return!1;s=!0}}else if(r&8){if(i===null||!Wb(e,i,l,t)){if(Ge(r))return!1;s=!0}}else{let c=n[++a],u=Zb(l,i,uc(e),t);if(u===-1){if(Ge(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(Ge(r))return!1;s=!0}}}}return Ge(r)||s}function Ge(e){return(e&1)===0}function Zb(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){let s=n[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Xb(n,e)}function Yb(e,n,t=!1){for(let r=0;r<n.length;r++)if(Jb(e,n[r],t))return!0;return!1}function Qb(e){for(let n=0;n<e.length;n++){let t=e[n];if(hh(t))return n}return e.length}function Xb(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function of(e,n){return e?":not("+n.trim()+")":n}function ew(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ge(s)&&(n+=of(o,i),i=""),r=s,o=o||!Ge(r);t++}return i!==""&&(n+=of(o,i)),n}function tw(e){return e.map(ew).join(",")}function nw(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&n.push(o,e[++r]):i===8&&t.push(o);else{if(!Ge(i))break;i=o}r++}return t.length&&n.push(1,...t),n}var Yn={};function rw(e,n){return e.createText(n)}function iw(e,n,t){e.setValue(n,t)}function Jh(e,n,t){return e.createElement(n,t)}function Uo(e,n,t,r,i){e.insertBefore(n,t,r,i)}function Zh(e,n,t){e.appendChild(n,t)}function sf(e,n,t,r,i){r!==null?Uo(e,n,t,r,i):Zh(e,n,t)}function ow(e,n,t){e.removeChild(null,n,t)}function sw(e,n,t){e.setAttribute(n,"style",t)}function aw(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Yh(e,n,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&rb(e,n,r),i!==null&&aw(e,n,i),o!==null&&sw(e,n,o)}function dc(e,n,t,r,i,o,s,a,l,c,u){let d=ke+r,p=d+i,f=lw(d,p),g=typeof c=="function"?c():c;return f[O]={type:e,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function lw(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:Yn);return t}function cw(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=dc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function fc(e,n,t,r,i,o,s,a,l,c,u){let d=n.blueprint.slice();return d[yt]=i,d[S]=r|4|128|8|64|1024,(c!==null||e&&e[S]&2048)&&(d[S]|=2048),Yf(d),d[fe]=d[qn]=e,d[ie]=t,d[gt]=s||e&&e[gt],d[ue]=a||e&&e[ue],d[jr]=l||e&&e[jr]||null,d[Ke]=o,d[rs]=Tb(),d[Fr]=u,d[Hf]=c,d[We]=n.type==2?e[We]:d,d}function uw(e,n,t){let r=nt(n,e),i=cw(t),o=e[gt].rendererFactory,s=hc(e,fc(e,i,null,Qh(t),r,n,null,o.createRenderer(r,t),null,null,null));return e[n.index]=s}function Qh(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function Xh(e,n,t,r){if(t===0)return-1;let i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function hc(e,n){return e[Br]?e[Ud][qe]=n:e[Br]=n,e[Ud]=n,n}function Y(e=1){ep(bt(),q(),ss()+e,!1)}function ep(e,n,t,r){if(!r)if((n[S]&3)===3){let o=e.preOrderCheckHooks;o!==null&&_o(n,o,t)}else{let o=e.preOrderHooks;o!==null&&So(n,o,0,t)}Yt(t)}var fs=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(fs||{});function Dl(e,n,t,r){let i=P(null);try{let[o,s,a]=e.inputs[t],l=null;(s&fs.SignalBased)!==0&&(l=n[o][yn]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(n,r)),e.setInput!==null?e.setInput(n,l,r,t,o):qf(n,l,o,r)}finally{P(i)}}function tp(e,n,t,r,i){let o=ss(),s=r&2;try{Yt(-1),s&&n.length>ke&&ep(e,n,ke,!1),U(s?2:0,i),t(r,i)}finally{Yt(o),U(s?3:1,i)}}function pc(e,n,t){yw(e,n,t),(t.flags&64)===64&&vw(e,n,t)}function np(e,n,t=nt){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(n,e):e[s];e[i++]=a}}}function dw(e,n,t,r){let o=r.get(Ob,jh)||t===tt.ShadowDom,s=e.selectRootElement(n,o);return fw(s),s}function fw(e){hw(e)}var hw=()=>null;function pw(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function gw(e,n,t,r,i,o,s,a){if(!a&&gc(n,e,t,r,i)){Wn(n)&&mw(t,n.index);return}if(n.type&3){let l=nt(n,t);r=pw(r),i=s!=null?s(i,n.value||"",r):i,o.setProperty(l,r,i)}else n.type&12}function mw(e,n){let t=et(n,e);t[S]&16||(t[S]|=64)}function yw(e,n,t){let r=t.directiveStart,i=t.directiveEnd;Wn(t)&&uw(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||yh(t,n);let o=t.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=dl(n,e,s,t);if(Qr(l,n),o!==null&&Cw(n,s-r,l,a,t,o),Xt(a)){let c=et(t.index,n);c[ie]=dl(n,e,s,t)}}}function vw(e,n,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Wv();try{Yt(o);for(let a=r;a<i;a++){let l=e.data[a],c=n[a];ll(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&bw(l,c)}}finally{Yt(-1),ll(s)}}function bw(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function rp(e,n){let t=e.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];Yb(n,o.selectors,!1)&&(r??=[],Xt(o)?r.unshift(o):r.push(o))}return r}function ww(e,n,t,r,i,o){let s=nt(e,n);Dw(n[ue],s,o,e.value,t,r,i)}function Dw(e,n,t,r,i,o,s){if(o==null)e.removeAttribute(n,i,t);else{let a=s==null?Xo(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}function Cw(e,n,t,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];Dl(r,t,l,c)}}function ip(e,n){let t=e[jr],r=t?t.get(mt,null):null;r&&r.handleError(n)}function gc(e,n,t,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=n.data[c];Dl(d,t[c],u,i),a=!0}if(o)for(let l of o){let c=t[l],u=n.data[l];Dl(u,c,r,i),a=!0}return a}function Ew(e,n){let t=et(n,e),r=t[O];_w(r,t);let i=t[yt];i!==null&&t[Fr]===null&&(t[Fr]=$h(i,t[jr])),U(18),mc(r,t,t[ie]),U(19,t[ie])}function _w(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function mc(e,n,t){Kl(n);try{let r=e.viewQuery;r!==null&&wl(1,r,t);let i=e.template;i!==null&&tp(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Vn]?.finishViewCreation(e),e.staticContentQueries&&Uh(e,n),e.staticViewQueries&&wl(2,e.viewQuery,t);let o=e.components;o!==null&&Sw(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[S]&=-5,Jl()}}function Sw(e,n){for(let t=0;t<n.length;t++)Ew(e,n[t])}function hs(e,n,t,r){let i=P(null);try{let o=n.tView,a=e[S]&4096?4096:16,l=fc(e,o,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[n.index];l[Bn]=c;let u=e[Vn];return u!==null&&(l[Vn]=u.createEmbeddedView(o)),mc(o,l,t),l}finally{P(i)}}function $r(e,n){return!n||n.firstChild===null||Rh(e)}var Iw;function yc(e,n){return Iw(e,n)}var en=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(en||{});function op(e){return(e.flags&32)===32}function Nn(e,n,t,r,i){if(r!=null){let o,s=!1;vt(r)?o=r:Nt(r)&&(s=!0,r=r[yt]);let a=Xe(r);e===0&&t!==null?i==null?Zh(n,t,a):Uo(n,t,a,i||null,!0):e===1&&t!==null?Uo(n,t,a,i||null,!0):e===2?ow(n,a,s):e===3&&n.destroyNode(a),o!=null&&jw(n,e,o,t,i)}}function Mw(e,n){sp(e,n),n[yt]=null,n[Ke]=null}function Tw(e,n,t,r,i,o){r[yt]=i,r[Ke]=n,gs(e,r,t,1,i,o)}function sp(e,n){n[gt].changeDetectionScheduler?.notify(9),gs(e,n,n[ue],2,null,null)}function Aw(e){let n=e[Br];if(!n)return Ja(e[O],e);for(;n;){let t=null;if(Nt(n))t=n[Br];else{let r=n[de];r&&(t=r)}if(!t){for(;n&&!n[qe]&&n!==e;)Nt(n)&&Ja(n[O],n),n=n[fe];n===null&&(n=e),Nt(n)&&Ja(n[O],n),t=n&&n[qe]}n=t}}function vc(e,n){let t=e[Po],r=t.indexOf(n);t.splice(r,1)}function ps(e,n){if(Gr(n))return;let t=n[ue];t.destroyNode&&gs(e,n,t,3,null,null),Aw(n)}function Ja(e,n){if(Gr(n))return;let t=P(null);try{n[S]&=-129,n[S]|=256,n[Ce]&&Aa(n[Ce]),Rw(e,n),xw(e,n),n[O].type===1&&n[ue].destroy();let r=n[Bn];if(r!==null&&vt(n[fe])){r!==n[fe]&&vc(r,n);let i=n[Vn];i!==null&&i.detachView(e)}yl(n)}finally{P(t)}}function xw(e,n){let t=e.cleanup,r=n[No];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(n[No]=null);let i=n[Rt];if(i!==null){n[Rt]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[ko];if(o!==null){n[ko]=null;for(let s of o)s.destroy()}}function Rw(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof Vr)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];U(4,a,l);try{l.call(a)}finally{U(5,a,l)}}else{U(4,i,o);try{o.call(i)}finally{U(5,i,o)}}}}}function Nw(e,n,t){return kw(e,n.parent,t)}function kw(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[yt];if(Wn(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===tt.None||i===tt.Emulated)return null}return nt(r,t)}function Ow(e,n,t){return Lw(e,n,t)}function Pw(e,n,t){return e.type&40?nt(e,t):null}var Lw=Pw,af;function bc(e,n,t,r){let i=Nw(e,r,n),o=n[ue],s=r.parent||n[Ke],a=Ow(s,r,n);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)sf(o,i,t[l],a,!1);else sf(o,i,t,a,!1);af!==void 0&&af(o,r,n,t,i)}function kr(e,n){if(n!==null){let t=n.type;if(t&3)return nt(n,e);if(t&4)return Cl(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return kr(e,r);{let i=e[n.index];return vt(i)?Cl(-1,i):Xe(i)}}else{if(t&128)return kr(e,n.next);if(t&32)return yc(n,e)()||Xe(e[n.index]);{let r=ap(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=Zt(e[We]);return kr(i,r)}else return kr(e,n.next)}}}return null}function ap(e,n){if(n!==null){let r=e[We][Ke],i=n.projection;return r.projection[i]}return null}function Cl(e,n){let t=de+e+1;if(t<n.length){let r=n[t],i=r[O].firstChild;if(i!==null)return kr(r,i)}return n[Jt]}function wc(e,n,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&n===0&&(a&&Qr(Xe(a),r),t.flags|=2),!op(t))if(l&8)wc(e,n,t.child,r,i,o,!1),Nn(n,e,i,a,o);else if(l&32){let c=yc(t,r),u;for(;u=c();)Nn(n,e,i,u,o);Nn(n,e,i,a,o)}else l&16?Fw(e,n,r,t,i,o):Nn(n,e,i,a,o);t=s?t.projectionNext:t.next}}function gs(e,n,t,r,i,o){wc(t,r,e.firstChild,n,i,o,!1)}function Fw(e,n,t,r,i,o){let s=t[We],l=s[Ke].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Nn(n,e,i,u,o)}else{let c=l,u=s[fe];Rh(r)&&(c.flags|=128),wc(e,n,c,u,i,o,!0)}}function jw(e,n,t,r,i){let o=t[Jt],s=Xe(t);o!==s&&Nn(n,e,r,o,i);for(let a=de;a<t.length;a++){let l=t[a];gs(l[O],l,e,n,r,o)}}function Ho(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(Xe(o)),vt(o)&&Bw(o,r);let s=t.type;if(s&8)Ho(e,n,t.child,r);else if(s&32){let a=yc(t,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=ap(n,t);if(Array.isArray(a))r.push(...a);else{let l=Zt(n[We]);Ho(l[O],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Bw(e,n){for(let t=de;t<e.length;t++){let r=e[t],i=r[O].firstChild;i!==null&&Ho(r[O],r,i,n)}e[Jt]!==e[yt]&&n.push(e[Jt])}function lp(e){if(e[On]!==null){for(let n of e[On])n.impl.addSequence(n);e[On].length=0}}var cp=[];function Vw(e){return e[Ce]??$w(e)}function $w(e){let n=cp.pop()??Object.create(Hw);return n.lView=e,n}function Uw(e){e.lView[Ce]!==e&&(e.lView=null,cp.push(e))}var Hw=G(v({},Xi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{qr(e.lView)},consumerOnSignalRead(){this.lView[Ce]=this}});function zw(e){let n=e[Ce]??Object.create(Gw);return n.lView=e,n}var Gw=G(v({},Xi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=Zt(e.lView);for(;n&&!up(n[O]);)n=Zt(n);n&&Wl(n)},consumerOnSignalRead(){this.lView[Ce]=this}});function up(e){return e.type!==2}function dp(e){if(e[ko]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[ko])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[S]&8192)}}var qw=100;function fp(e,n=!0,t=0){let i=e[gt].rendererFactory,o=!1;o||i.begin?.();try{Ww(e,t)}catch(s){throw n&&ip(e,s),s}finally{o||i.end?.()}}function Ww(e,n){let t=nh();try{zd(!0),El(e,n);let r=0;for(;os(e);){if(r===qw)throw new D(103,!1);r++,El(e,1)}}finally{zd(t)}}function Kw(e,n,t,r){if(Gr(n))return;let i=n[S],o=!1,s=!1;Kl(n);let a=!0,l=null,c=null;o||(up(e)?(c=Vw(n),l=Ma(c)):Yu()===null?(a=!1,c=zw(n),l=Ma(c)):n[Ce]&&(Aa(n[Ce]),n[Ce]=null));try{Yf(n),zv(e.bindingStartIndex),t!==null&&tp(e,n,t,2,r);let u=(i&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&_o(n,f,null)}else{let f=e.preOrderHooks;f!==null&&So(n,f,0,null),qa(n,0)}if(s||Jw(n),dp(n),hp(n,0),e.contentQueries!==null&&Uh(e,n),!o)if(u){let f=e.contentCheckHooks;f!==null&&_o(n,f)}else{let f=e.contentHooks;f!==null&&So(n,f,1),qa(n,1)}Yw(e,n);let d=e.components;d!==null&&gp(n,d,0);let p=e.viewQuery;if(p!==null&&wl(2,p,r),!o)if(u){let f=e.viewCheckHooks;f!==null&&_o(n,f)}else{let f=e.viewHooks;f!==null&&So(n,f,2),qa(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[Ga]){for(let f of n[Ga])f();n[Ga]=null}o||(lp(n),n[S]&=-73)}catch(u){throw o||qr(n),u}finally{c!==null&&(ed(c,l),a&&Uw(c)),Jl()}}function hp(e,n){for(let t=Oh(e);t!==null;t=Ph(t))for(let r=de;r<t.length;r++){let i=t[r];pp(i,n)}}function Jw(e){for(let n=Oh(e);n!==null;n=Ph(n)){if(!(n[S]&2))continue;let t=n[Po];for(let r=0;r<t.length;r++){let i=t[r];Wl(i)}}}function Zw(e,n,t){U(18);let r=et(n,e);pp(r,t),U(19,r[ie])}function pp(e,n){ql(e)&&El(e,n)}function El(e,n){let r=e[O],i=e[S],o=e[Ce],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ta(o)),s||=!1,o&&(o.dirty=!1),e[S]&=-9217,s)Kw(r,e,r.template,e[ie]);else if(i&8192){dp(e),hp(e,1);let a=r.components;a!==null&&gp(e,a,1),lp(e)}}function gp(e,n,t){for(let r=0;r<n.length;r++)Zw(e,n[r],t)}function Yw(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Yt(~i);else{let o=i,s=t[++r],a=t[++r];qv(s,o);let l=n[o];U(24,l),a(2,l),U(25,l)}}}finally{Yt(-1)}}function Dc(e,n){let t=nh()?64:1088;for(e[gt].changeDetectionScheduler?.notify(n);e;){e[S]|=t;let r=Zt(e);if(Lo(e)&&!r)return e;e=r}return null}function mp(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function yp(e,n){let t=de+n;if(t<e.length)return e[t]}function ms(e,n,t,r=!0){let i=n[O];if(Qw(i,n,e,t),r){let s=Cl(t,e),a=n[ue],l=a.parentNode(e[Jt]);l!==null&&Tw(i,e[Ke],a,n,l,s)}let o=n[Fr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function vp(e,n){let t=Ur(e,n);return t!==void 0&&ps(t[O],t),t}function Ur(e,n){if(e.length<=de)return;let t=de+n,r=e[t];if(r){let i=r[Bn];i!==null&&i!==e&&vc(i,r),n>0&&(e[t-1][qe]=r[qe]);let o=xo(e,de+n);Mw(r[O],r);let s=o[Vn];s!==null&&s.detachView(o[O]),r[fe]=null,r[qe]=null,r[S]&=-129}return r}function Qw(e,n,t,r){let i=de+r,o=t.length;r>0&&(t[i-1][qe]=n),r<o-de?(n[qe]=t[i],Nf(t,de+r,n)):(t.push(n),n[qe]=null),n[fe]=t;let s=n[Bn];s!==null&&t!==s&&bp(s,n);let a=n[Vn];a!==null&&a.insertView(e),sl(n),n[S]|=128}function bp(e,n){let t=e[Po],r=n[fe];if(Nt(r))e[S]|=2;else{let i=r[fe][We];n[We]!==i&&(e[S]|=2)}t===null?e[Po]=[n]:t.push(n)}var Qt=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,t=n[O];return Ho(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[ie]}get dirty(){return!!(this._lView[S]&9280)||!!this._lView[Ce]?.dirty}set context(n){this._lView[ie]=n}get destroyed(){return Gr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[fe];if(vt(n)){let t=n[Oo],r=t?t.indexOf(this):-1;r>-1&&(Ur(n,r),xo(t,r))}this._attachedToViewContainer=!1}ps(this._lView[O],this._lView)}onDestroy(n){Qf(this._lView,n)}markForCheck(){Dc(this._cdRefInjectingView||this._lView,4)}markForRefresh(){Wl(this._cdRefInjectingView||this._lView)}detach(){this._lView[S]&=-129}reattach(){sl(this._lView),this._lView[S]|=128}detectChanges(){this._lView[S]|=1024,fp(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Lo(this._lView),t=this._lView[Bn];t!==null&&!n&&vc(t,this._lView),sp(this._lView[O],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=n;let t=Lo(this._lView),r=this._lView[Bn];r!==null&&!t&&bp(r,this._lView),sl(this._lView)}},wp=(()=>{class e{static __NG_ELEMENT_ID__=tD}return e})(),Xw=wp,eD=class extends Xw{_declarationLView;_declarationTContainer;elementRef;constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){let i=hs(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:r});return new Qt(i)}};function tD(){return Dp(Le(),q())}function Dp(e,n){return e.type&4?new eD(n,e,cs(e,n)):null}function Cc(e,n,t,r,i){let o=e.data[n];if(o===null)o=nD(e,n,t,r,i),Gv()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=$v();o.injectorIndex=s===null?-1:s.injectorIndex}return Wr(o,!0),o}function nD(e,n,t,r,i){let o=eh(),s=th(),a=s?o:o&&o.parent,l=e.data[n]=iD(e,a,t,n,r,i);return rD(e,l,o,s),l}function rD(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function iD(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return jv()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Bx=new RegExp(`^(\\d+)*(${kb}|${Nb})*(.*)`);var oD=()=>null;function Hr(e,n){return oD(e,n)}var _l=class{},zo=class{},Sl=class{resolveComponentFactory(n){throw Error(`No component factory found for ${De(n)}.`)}},Hn=class{static NULL=new Sl},zn=class{},ys=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>sD()}return e})();function sD(){let e=q(),n=Le(),t=et(n.index,e);return(Nt(t)?t:e)[ue]}var aD=(()=>{class e{static \u0275prov=w({token:e,providedIn:"root",factory:()=>null})}return e})();function lf(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=Ld(i,a);else if(o==2){let l=a,c=n[++s];r=Ld(r,l+": "+c+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function te(e,n=x.Default){let t=q();if(t===null)return M(e,n);let r=Le();return Dh(r,t,Ne(e),n)}function Cp(){let e="invalid";throw new Error(e)}function Ep(e,n,t,r,i){let o=r===null?null:{"":-1},s=i(e,t);if(s!==null){let a,l=null,c=null,u=cD(s);u===null?a=s:[a,l,c]=u,fD(e,n,t,a,o,l,c)}o!==null&&r!==null&&lD(t,r,o)}function lD(e,n,t){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let o=t[n[i+1]];if(o==null)throw new D(-301,!1);r.push(n[i],o)}}function cD(e){let n=null,t=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&Xt(a)&&(n=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,uD(s,r,o,i)),s===n&&(r??=[],r.push(s));return r!==null?(r.push(...n===null?e:e.slice(1)),[r,i,o]):null}function uD(e,n,t,r){let i=n.length;e.findHostDirectiveDefs(e,n,r),t.set(e,[i,n.length-1])}function dD(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function fD(e,n,t,r,i,o,s){let a=r.length,l=!1;for(let p=0;p<a;p++){let f=r[p];!l&&Xt(f)&&(l=!0,dD(e,t,p)),cb(yh(t,n),e,f.type)}vD(t,e.data.length,a);for(let p=0;p<a;p++){let f=r[p];f.providersResolver&&f.providersResolver(f)}let c=!1,u=!1,d=Xh(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let p=0;p<a;p++){let f=r[p];if(t.mergedAttrs=Ql(t.mergedAttrs,f.hostAttrs),pD(e,t,n,d,f),yD(d,f,i),s!==null&&s.has(f)){let[m,b]=s.get(f);t.directiveToIndex.set(f.type,[d,m+t.directiveStart,b+t.directiveStart])}else(o===null||!o.has(f))&&t.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let g=f.type.prototype;!c&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),c=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}hD(e,t,o)}function hD(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=e.data[r];if(t===null||!t.has(i))cf(0,n,i,r),cf(1,n,i,r),df(n,r,!1);else{let o=t.get(i);uf(0,n,o,r),uf(1,n,o,r),df(n,r,!0)}}}function cf(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(r),_p(n,o)}}function uf(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),_p(n,s)}}function _p(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function df(e,n,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!t&&i===null||t&&o===null||uc(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===n){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===n){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function pD(e,n,t,r,i){e.data[r]=i;let o=i.factory||(i.factory=Ln(i.type,!0)),s=new Vr(o,Xt(i),te);e.blueprint[r]=s,t[r]=s,gD(e,n,r,Xh(e,t,i.hostVars,Yn),i)}function gD(e,n,t,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;mD(s)!=a&&s.push(a),s.push(t,r,o)}}function mD(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function yD(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Xt(n)&&(t[""]=e)}}function vD(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function Sp(e,n,t,r,i,o,s,a){let l=n.consts,c=$n(l,s),u=Cc(n,e,2,r,c);return o&&Ep(n,t,u,$n(l,a),i),u.mergedAttrs=Ql(u.mergedAttrs,u.attrs),u.attrs!==null&&lf(u,u.attrs,!1),u.mergedAttrs!==null&&lf(u,u.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,u),u}function Ip(e,n){dh(e,n),Gf(n)&&e.queries.elementEnd(n)}var Go=class extends Hn{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=kt(n);return new Gn(t,this.ngModule)}};function bD(e){return Object.keys(e).map(n=>{let[t,r,i]=e[n],o={propName:t,templateName:n,isSignal:(r&fs.SignalBased)!==0};return i&&(o.transform=i),o})}function wD(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function DD(e,n,t){let r=n instanceof Ee?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new cl(t,r):t}function CD(e){let n=e.get(zn,null);if(n===null)throw new D(407,!1);let t=e.get(aD,null),r=e.get(Un,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r}}function ED(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return Jh(n,t,t==="svg"?Zf:t==="math"?Tv:null)}var Gn=class extends zo{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){return bD(this.componentDef.inputs)}get outputs(){return wD(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=tw(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,i){U(22);let o=P(null);try{let s=this.componentDef,a=r?["ng-version","19.2.0"]:nw(this.componentDef.selectors[0]),l=dc(0,null,null,1,0,null,null,null,null,[a],null),c=DD(s,i||this.ngModule,n),u=CD(c),d=u.rendererFactory.createRenderer(null,s),p=r?dw(d,r,s.encapsulation,c):ED(s,d),f=fc(null,l,null,512|Qh(s),null,null,u,d,c,null,$h(p,c,!0));f[ke]=p,Kl(f);let g=null;try{let m=Sp(ke,l,f,"#host",()=>[this.componentDef],!0,0);p&&(Yh(d,p,m),Qr(p,f)),pc(l,f,m),Hh(l,m,f),Ip(l,m),t!==void 0&&_D(m,this.ngContentSelectors,t),g=et(m.index,f),f[ie]=g[ie],mc(l,f,null)}catch(m){throw g!==null&&yl(g),yl(f),m}finally{U(23),Jl()}return new Il(this.componentType,f)}finally{P(o)}}},Il=class extends _l{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t){super(),this._rootLView=t,this._tNode=Gl(t[O],ke),this.location=cs(this._tNode,t),this.instance=et(this._tNode.index,t)[ie],this.hostView=this.changeDetectorRef=new Qt(t,void 0,!1),this.componentType=n}setInput(n,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let i=this._rootLView,o=gc(r,i[O],i,n,t);this.previousInputValues.set(n,t);let s=et(r.index,i);Dc(s,1)}get injector(){return new Kt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function _D(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var vs=(()=>{class e{static __NG_ELEMENT_ID__=SD}return e})();function SD(){let e=Le();return MD(e,q())}var ID=vs,Mp=class extends ID{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return cs(this._hostTNode,this._hostLView)}get injector(){return new Kt(this._hostTNode,this._hostLView)}get parentInjector(){let n=Xl(this._hostTNode,this._hostLView);if(ph(n)){let t=jo(n,this._hostLView),r=Fo(n),i=t[O].data[r+8];return new Kt(i,t)}else return new Kt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=ff(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-de}createEmbeddedView(n,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Hr(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,$r(this._hostTNode,s)),a}createComponent(n,t,r,i,o){let s=n&&!_v(n),a;if(s)a=t;else{let g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let l=s?n:new Gn(kt(n)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let m=(s?c:this.parentInjector).get(Ee,null);m&&(o=m)}let u=kt(l.componentType??{}),d=Hr(this._lContainer,u?.id??null),p=d?.firstChild??null,f=l.create(c,i,p,o);return this.insertImpl(f.hostView,a,$r(this._hostTNode,d)),f}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if(xv(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=i[fe],c=new Mp(l,l[Ke],l[fe]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return ms(s,i,o,r),n.attachToViewContainerRef(),Nf(Za(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=ff(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=Ur(this._lContainer,t);r&&(xo(Za(this._lContainer),t),ps(r[O],r))}detach(n){let t=this._adjustIndex(n,-1),r=Ur(this._lContainer,t);return r&&xo(Za(this._lContainer),t)!=null?new Qt(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function ff(e){return e[Oo]}function Za(e){return e[Oo]||(e[Oo]=[])}function MD(e,n){let t,r=n[e.index];return vt(r)?t=r:(t=mp(r,n,null,e),n[e.index]=t,hc(n,t)),AD(t,n,e,r),new Mp(t,e,n)}function TD(e,n){let t=e[ue],r=t.createComment(""),i=nt(n,e),o=t.parentNode(i);return Uo(t,o,r,t.nextSibling(i),!1),r}var AD=ND,xD=()=>!1;function RD(e,n,t){return xD(e,n,t)}function ND(e,n,t,r){if(e[Jt])return;let i;t.type&8?i=Xe(r):i=TD(n,t),e[Jt]=i}var Ot=class{},zr=class{};var Ml=class extends Ot{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Go(this);constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t;let o=Pf(n);this._bootstrapComponents=Wh(o.bootstrap),this._r3Injector=_h(n,t,[{provide:Ot,useValue:this},{provide:Hn,useValue:this.componentFactoryResolver},...r],De(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Tl=class extends zr{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Ml(this.moduleType,n,[])}};var qo=class extends Ot{injector;componentFactoryResolver=new Go(this);instance=null;constructor(n){super();let t=new Lr([...n.providers,{provide:Ot,useValue:this},{provide:Hn,useValue:this.componentFactoryResolver}],n.parent||Hl(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function bs(e,n,t=null){return new qo({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var kD=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Bf(!1,t.type),i=r.length>0?bs([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=w({token:e,providedIn:"environment",factory:()=>new e(M(Ee))})}return e})();function me(e){return Zo(()=>{let n=Tp(e),t=G(v({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Nh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(kD).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||tt.Emulated,styles:e.styles||Ye,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&Zn("NgStandalone"),Ap(t);let r=e.dependencies;return t.directiveDefs=hf(r,!1),t.pipeDefs=hf(r,!0),t.id=jD(t),t})}function OD(e){return kt(e)||Lf(e)}function PD(e){return e!==null}function ws(e){return Zo(()=>({type:e.type,bootstrap:e.bootstrap||Ye,declarations:e.declarations||Ye,imports:e.imports||Ye,exports:e.exports||Ye,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function LD(e,n){if(e==null)return Fn;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=fs.None,l=null),t[o]=[r,a,l],n[o]=s}return t}function FD(e){if(e==null)return Fn;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function Ds(e){return Zo(()=>{let n=Tp(e);return Ap(n),n})}function Tp(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||Fn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Ye,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:LD(e.inputs,n),outputs:FD(e.outputs),debugInfo:null}}function Ap(e){e.features?.forEach(n=>n(e))}function hf(e,n){if(!e)return null;let t=n?Ff:OD;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(PD)}function jD(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function BD(e,n,t){return e[n]=t}function Qn(e,n,t){let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function VD(e,n,t,r,i,o,s,a,l){let c=n.consts,u=Cc(n,e,4,s||null,a||null);Xf()&&Ep(n,t,u,$n(c,l),rp),u.mergedAttrs=Ql(u.mergedAttrs,u.attrs),dh(n,u);let d=u.tView=dc(2,u,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}function Al(e,n,t,r,i,o,s,a,l,c){let u=t+ke,d=n.firstCreatePass?VD(u,n,e,r,i,o,s,a,l):n.data[u];Wr(d,!1);let p=$D(n,e,d,t);Zl()&&bc(n,e,p,d),Qr(p,e);let f=mp(p,e,p,d);return e[u]=f,hc(e,f),RD(f,d,e),zl(d)&&pc(n,e,d),l!=null&&np(e,d,c),d}function Fe(e,n,t,r,i,o,s,a){let l=q(),c=bt(),u=$n(c.consts,o);return Al(l,c,e,n,t,r,i,u,s,a),Fe}var $D=UD;function UD(e,n,t,r){return Yl(!0),n[ue].createComment("")}var Ec=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var xp=new _("");var HD=(()=>{class e{static \u0275prov=w({token:e,providedIn:"root",factory:()=>new xl})}return e})(),xl=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,t]of this.queues)n===null?this.flushQueue(t):n.run(()=>this.flushQueue(t))}flushQueue(n){for(let t of n)n.delete(t),this.queuedEffectCount--,t.run()}};function ti(e){return!!e&&typeof e.then=="function"}function Rp(e){return!!e&&typeof e.subscribe=="function"}var Cs=new _("");var Np=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=y(Cs,{optional:!0})??[];injector=y(Oe);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Pe(this.injector,i);if(ti(o))t.push(o);else if(Rp(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Es=new _("");function zD(){od(()=>{throw new D(600,!1)})}function GD(e){return e.isBoundToModule}var qD=10;var Pt=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=y(_b);afterRenderManager=y(Vh);zonelessEnabled=y(ls);rootEffectScheduler=y(HD);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new K;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=y(Kn).hasPendingTasks.pipe(B(t=>!t));constructor(){y(Jn,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=y(Ee);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){U(10);let i=t instanceof zo;if(!this._injector.get(Np).done){let p=!i&&jf(t),f=!1;throw new D(405,f)}let s;i?s=t:s=this._injector.get(Hn).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=GD(s)?void 0:this._injector.get(Ot),l=r||s.selector,c=s.create(Oe.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(xp,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Io(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),U(11,c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){U(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ac.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new D(101,!1);let t=P(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,P(t),this.afterTick.next(),U(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(zn,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<qD;)U(14),this.synchronizeOnce(),U(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)WD(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>os(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Io(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Es,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Io(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new D(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Io(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function WD(e,n,t,r){if(!t&&!os(e))return;fp(e,n,t&&!r?0:1)}function ni(e,n,t,r){let i=q(),o=Kr();if(Qn(i,o,n)){let s=bt(),a=ch();ww(a,i,e,n,t,r)}return ni}function KD(e,n,t,r){return Qn(e,Kr(),t)?n+Xo(t)+r:Yn}function tn(e,n,t){let r=q(),i=Kr();if(Qn(r,i,n)){let o=bt(),s=ch();gw(o,s,r,e,n,r[ue],t,!1)}return tn}function pf(e,n,t,r,i){gc(n,e,t,i?"class":"style",r)}var Rl=class{destroy(n){}updateValue(n,t){}swap(n,t){let r=Math.min(n,t),i=Math.max(n,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(n,t){this.attach(t,this.detach(n))}};function Ya(e,n,t,r,i){return e===t&&Object.is(n,r)?1:Object.is(i(e,n),i(t,r))?-1:0}function JD(e,n,t){let r,i,o=0,s=e.length-1,a=void 0;if(Array.isArray(n)){let l=n.length-1;for(;o<=s&&o<=l;){let c=e.at(o),u=n[o],d=Ya(o,c,o,u,t);if(d!==0){d<0&&e.updateValue(o,u),o++;continue}let p=e.at(s),f=n[l],g=Ya(s,p,l,f,t);if(g!==0){g<0&&e.updateValue(s,f),s--,l--;continue}let m=t(o,c),b=t(s,p),C=t(o,u);if(Object.is(C,b)){let J=t(l,f);Object.is(J,m)?(e.swap(o,s),e.updateValue(s,f),l--,s--):e.move(s,o),e.updateValue(o,u),o++;continue}if(r??=new Wo,i??=mf(e,o,s,t),Nl(e,r,o,C))e.updateValue(o,u),o++,s++;else if(i.has(C))r.set(m,e.detach(o)),s--;else{let J=e.create(o,n[o]);e.attach(o,J),o++,s++}}for(;o<=l;)gf(e,r,t,o,n[o]),o++}else if(n!=null){let l=n[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let u=e.at(o),d=c.value,p=Ya(o,u,o,d,t);if(p!==0)p<0&&e.updateValue(o,d),o++,c=l.next();else{r??=new Wo,i??=mf(e,o,s,t);let f=t(o,d);if(Nl(e,r,o,f))e.updateValue(o,d),o++,s++,c=l.next();else if(!i.has(f))e.attach(o,e.create(o,d)),o++,s++,c=l.next();else{let g=t(o,u);r.set(g,e.detach(o)),s--}}}for(;!c.done;)gf(e,r,t,e.length,c.value),c=l.next()}for(;o<=s;)e.destroy(e.detach(s--));r?.forEach(l=>{e.destroy(l)})}function Nl(e,n,t,r){return n!==void 0&&n.has(r)?(e.attach(t,n.get(r)),n.delete(r),!0):!1}function gf(e,n,t,r,i){if(Nl(e,n,r,t(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function mf(e,n,t,r){let i=new Set;for(let o=n;o<=t;o++)i.add(r(o,e.at(o)));return i}var Wo=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let t=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let r=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,r]of this.kvMap)if(n(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),n(r,t)}}};function rt(e,n){Zn("NgControlFlow");let t=q(),r=Kr(),i=t[r]!==Yn?t[r]:-1,o=i!==-1?Ko(t,ke+i):void 0,s=0;if(Qn(t,r,e)){let a=P(null);try{if(o!==void 0&&vp(o,s),e!==-1){let l=ke+e,c=Ko(t,l),u=Ll(t[O],l),d=Hr(c,u.tView.ssrId),p=hs(t,u,n,{dehydratedView:d});ms(c,p,s,$r(u,d))}}finally{P(a)}}else if(o!==void 0){let a=yp(o,s);a!==void 0&&(a[ie]=n)}}var kl=class{lContainer;$implicit;$index;constructor(n,t,r){this.lContainer=n,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-de}};var Ol=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,r){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=r}};function Xn(e,n,t,r,i,o,s,a,l,c,u,d,p){Zn("NgControlFlow");let f=q(),g=bt(),m=l!==void 0,b=q(),C=a?s.bind(b[We][ie]):s,J=new Ol(m,C);b[ke+e]=J,Al(f,g,e+1,n,t,r,i,$n(g.consts,o)),m&&Al(f,g,e+2,l,c,u,d,$n(g.consts,p))}var Pl=class extends Rl{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,r){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-de}at(n){return this.getLView(n)[ie].$implicit}attach(n,t){let r=t[Fr];this.needsIndexUpdate||=n!==this.length,ms(this.lContainer,t,n,$r(this.templateTNode,r))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,ZD(this.lContainer,n)}create(n,t){let r=Hr(this.lContainer,this.templateTNode.tView.ssrId),i=hs(this.hostLView,this.templateTNode,new kl(this.lContainer,t,n),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(n){ps(n[O],n),this.operationsCounter?.recordDestroy()}updateValue(n,t){this.getLView(n)[ie].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[ie].$index=n}getLView(n){return YD(this.lContainer,n)}};function er(e){let n=P(null),t=ss();try{let r=q(),i=r[O],o=r[t],s=t+1,a=Ko(r,s);if(o.liveCollection===void 0){let c=Ll(i,s);o.liveCollection=new Pl(a,r,c)}else o.liveCollection.reset();let l=o.liveCollection;if(JD(l,e,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=Kr(),u=l.length===0;if(Qn(r,c,u)){let d=t+2,p=Ko(r,d);if(u){let f=Ll(i,d),g=Hr(p,f.tView.ssrId),m=hs(r,f,void 0,{dehydratedView:g});ms(p,m,0,$r(f,g))}else vp(p,0)}}}finally{P(n)}}function Ko(e,n){return e[n]}function ZD(e,n){return Ur(e,n)}function YD(e,n){return yp(e,n)}function Ll(e,n){return Gl(e,n)}function R(e,n,t,r){let i=q(),o=bt(),s=ke+e,a=i[ue],l=o.firstCreatePass?Sp(s,o,i,n,rp,Xf(),t,r):o.data[s],c=QD(o,i,l,a,n,e);i[s]=c;let u=zl(l);return Wr(l,!0),Yh(a,c,l),!op(l)&&Zl()&&bc(o,i,c,l),(Pv()===0||u)&&Qr(c,i),Lv(),u&&(pc(o,i,l),Hh(o,l,i)),r!==null&&np(i,l),R}function L(){let e=Le();th()?Uv():(e=e.parent,Wr(e,!1));let n=e;Bv(n)&&Vv(),Fv();let t=bt();return t.firstCreatePass&&Ip(t,n),n.classesWithoutHost!=null&&tb(n)&&pf(t,n,q(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&nb(n)&&pf(t,n,q(),n.stylesWithoutHost,!1),L}function _e(e,n,t,r){return R(e,n,t,r),L(),_e}var QD=(e,n,t,r,i,o)=>(Yl(!0),Jh(r,i,Yv()));function jt(){return q()}var Jo="en-US";var XD=Jo;function eC(e){typeof e=="string"&&(XD=e.toLowerCase().replace(/_/g,"-"))}var tC=(e,n,t)=>{};function Se(e,n,t,r){let i=q(),o=bt(),s=Le();return rC(o,i,i[ue],s,e,n,r),Se}function nC(e,n,t,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=n[No],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function rC(e,n,t,r,i,o,s){let a=zl(r),c=e.firstCreatePass?Ov(e):null,u=n[ie],d=kv(n),p=!0;if(r.type&3||s){let f=nt(r,n),g=s?s(f):f,m=d.length,b=s?J=>s(Xe(J[r.index])):r.index,C=null;if(!s&&a&&(C=nC(e,n,i,r.index)),C!==null){let J=C.__ngLastListenerFn__||C;J.__ngNextListenerFn__=o,C.__ngLastListenerFn__=o,p=!1}else{o=bf(r,n,u,o),tC(f,i,o);let J=t.listen(g,i,o);d.push(o,J),c&&c.push(i,b,m,m+1)}}else o=bf(r,n,u,o);if(p){let f=r.outputs?.[i],g=r.hostDirectiveOutputs?.[i];if(g&&g.length)for(let m=0;m<g.length;m+=2){let b=g[m],C=g[m+1];yf(r,e,n,b,C,i,o,d,c)}if(f&&f.length)for(let m of f)yf(r,e,n,m,i,i,o,d,c)}}function yf(e,n,t,r,i,o,s,a,l){let c=t[r],d=n.data[r].outputs[i],f=c[d].subscribe(s),g=a.length;a.push(s,f),l&&l.push(o,e.index,g,-(g+1))}function vf(e,n,t,r){let i=P(null);try{return U(6,n,t),t(r)!==!1}catch(o){return ip(e,o),!1}finally{U(7,n,t),P(i)}}function bf(e,n,t,r){return function i(o){if(o===Function)return r;let s=Wn(e)?et(e.index,n):n;Dc(s,5);let a=vf(n,t,r,o),l=i.__ngNextListenerFn__;for(;l;)a=vf(n,t,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function je(e=1){return Jv(e)}function z(e,n=""){let t=q(),r=bt(),i=e+ke,o=r.firstCreatePass?Cc(r,i,1,n,null):r.data[i],s=iC(r,t,o,n,e);t[i]=s,Zl()&&bc(r,t,s,o),Wr(o,!1)}var iC=(e,n,t,r,i)=>(Yl(!0),rw(n[ue],r));function it(e){return ri("",e,""),it}function ri(e,n,t){let r=q(),i=KD(r,e,n,t);return i!==Yn&&oC(r,ss(),i),ri}function oC(e,n,t){let r=Av(n,e);iw(e[ue],r,t)}function kp(e,n,t,r){return aC(q(),Hv(),e,n,t,r)}function sC(e,n){let t=e[n];return t===Yn?void 0:t}function aC(e,n,t,r,i,o){let s=n+t;return Qn(e,s,i)?BD(e,s+1,o?r.call(o,i):r(i)):sC(e,s+1)}function Op(e,n){return Dp(e,n)}var Fl=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},_s=(()=>{class e{compileModuleSync(t){return new Tl(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Pf(t),o=Wh(i.declarations).reduce((s,a)=>{let l=kt(a);return l&&s.push(new Gn(l)),s},[]);return new Fl(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var lC=(()=>{class e{zone=y(ee);changeDetectionScheduler=y(Un);applicationRef=y(Pt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cC=new _("",{factory:()=>!1});function Pp({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new ee(G(v({},Fp()),{scheduleInRootZone:t})),[{provide:ee,useFactory:e},{provide:jn,multi:!0,useFactory:()=>{let r=y(lC,{optional:!0});return()=>r.initialize()}},{provide:jn,multi:!0,useFactory:()=>{let r=y(uC);return()=>{r.initialize()}}},n===!0?{provide:Ih,useValue:!0}:[],{provide:Mh,useValue:t??Sh}]}function Lp(e){let n=e?.ignoreChangesOutsideZone,t=e?.scheduleInRootZone,r=Pp({ngZoneFactory:()=>{let i=Fp(e);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Zn("NgZone_CoalesceEvent"),new ee(i)},ignoreChangesOutsideZone:n,scheduleInRootZone:t});return ts([{provide:cC,useValue:!0},{provide:ls,useValue:!1},r])}function Fp(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var uC=(()=>{class e{subscription=new Q;initialized=!1;zone=y(ee);pendingTasks=y(Kn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ee.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ee.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var dC=(()=>{class e{appRef=y(Pt);taskService=y(Kn);ngZone=y(ee);zonelessEnabled=y(ls);tracing=y(Jn,{optional:!0});disableScheduling=y(Ih,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Q;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Vo):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(Mh,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ml||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Yd:Th;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Vo+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Yd(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fC(){return typeof $localize<"u"&&$localize.locale||Jo}var _c=new _("",{providedIn:"root",factory:()=>y(_c,x.Optional|x.SkipSelf)||fC()});var jl=new _(""),hC=new _("");function Rr(e){return!e.moduleRef}function pC(e){let n=Rr(e)?e.r3Injector:e.moduleRef.injector,t=n.get(ee);return t.run(()=>{Rr(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(mt,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Rr(e)){let o=()=>n.destroy(),s=e.platformInjector.get(jl);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(jl);s.add(o),e.moduleRef.onDestroy(()=>{Io(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return mC(r,t,()=>{let o=n.get(Np);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(_c,Jo);if(eC(s||Jo),!n.get(hC,!0))return Rr(e)?n.get(Pt):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Rr(e)){let l=n.get(Pt);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return gC(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function gC(e,n){let t=e.injector.get(Pt);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new D(-403,!1);n.push(e)}function mC(e,n,t){try{let r=t();return ti(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}var Mo=null;function yC(e=[],n){return Oe.create({name:n,providers:[{provide:ns,useValue:"platform"},{provide:jl,useValue:new Set([()=>Mo=null])},...e]})}function vC(e=[]){if(Mo)return Mo;let n=yC(e);return Mo=n,zD(),bC(n),n}function bC(e){let n=e.get(oc,null);Pe(e,()=>{n?.forEach(t=>t())})}var ii=(()=>{class e{static __NG_ELEMENT_ID__=wC}return e})();function wC(e){return DC(Le(),q(),(e&16)===16)}function DC(e,n,t){if(Wn(e)&&!t){let r=et(e.index,n);return new Qt(r,r)}else if(e.type&175){let r=n[We];return new Qt(r,n)}return null}function jp(e){U(8);try{let{rootComponent:n,appProviders:t,platformProviders:r}=e,i=vC(r),o=[Pp({}),{provide:Un,useExisting:dC},...t||[]],s=new qo({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return pC({r3Injector:s.injector,platformInjector:i,rootComponent:n})}catch(n){return Promise.reject(n)}finally{U(9)}}function oi(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var wf=class{[yn];constructor(n){this[yn]=n}destroy(){this[yn].destroy()}};function Bp(e){let n=kt(e);if(!n)return null;let t=new Gn(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var Hp=null;function tr(){return Hp}function zp(e){Hp??=e}var Ss=class{};var ye=new _(""),Ic=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:()=>y(CC),providedIn:"platform"})}return e})(),Gp=new _(""),CC=(()=>{class e extends Ic{_location;_history;_doc=y(ye);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tr().getBaseHref(this._doc)}onPopState(t){let r=tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Mc(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function Vp(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function wt(e){return e&&e[0]!=="?"?`?${e}`:e}var Dt=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:()=>y(Tc),providedIn:"root"})}return e})(),qp=new _(""),Tc=(()=>{class e extends Dt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Mc(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+wt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+wt(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+wt(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(M(Ic),M(qp,8))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Wp=(()=>{class e extends Dt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Mc(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+wt(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+wt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(M(Ic),M(qp,8))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})(),nr=(()=>{class e{_subject=new K;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=SC(Vp($p(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+wt(r))}normalize(t){return e.stripTrailingSlash(_C(this._basePath,$p(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+wt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+wt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=wt;static joinWithSlash=Mc;static stripTrailingSlash=Vp;static \u0275fac=function(r){return new(r||e)(M(Dt))};static \u0275prov=w({token:e,factory:()=>EC(),providedIn:"root"})}return e})();function EC(){return new nr(M(Dt))}function _C(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function $p(e){return e.replace(/\/index.html$/,"")}function SC(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}function Kp(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var Jp="browser",IC="server";function Ac(e){return e===IC}var Zp=(()=>{class e{static \u0275prov=w({token:e,providedIn:"root",factory:()=>new Sc(y(ye),window)})}return e})(),Sc=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let t=MC(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function MC(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var Is=class{};var Rc=class extends Ss{supportsDOMEvents=!0},Nc=class e extends Rc{static makeCurrent(){zp(new e)}onAndCancel(n,t,r,i){return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=AC();return t==null?null:xC(t)}resetBaseElement(){si=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Kp(document.cookie,n)}},si=null;function AC(){return si=si||document.querySelector("base"),si?si.getAttribute("href"):null}function xC(e){return new URL(e,document.baseURI).pathname}var RC=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})(),kc=new _(""),ng=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(M(kc),M(ee))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})(),Ts=class{_doc;constructor(n){this._doc=n}manager},Ms="ng-app-id";function Yp(e){for(let n of e)n.remove()}function Qp(e,n){let t=n.createElement("style");return t.textContent=e,t}function NC(e,n,t,r){let i=e.head?.querySelectorAll(`style[${Ms}="${n}"],link[${Ms}="${n}"]`);if(i)for(let o of i)o.removeAttribute(Ms),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Oc(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var rg=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Ac(o),NC(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Qp);r?.forEach(i=>this.addUsage(i,this.external,Oc))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Yp(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Yp(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Qp(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Oc(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Ms,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(M(ye),M(ic),M(sc,8),M(Xr))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})(),xc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Lc=/%COMP%/g;var ig="%COMP%",kC=`_nghost-${ig}`,OC=`_ngcontent-${ig}`,PC=!0,LC=new _("",{providedIn:"root",factory:()=>PC});function FC(e){return OC.replace(Lc,e)}function jC(e){return kC.replace(Lc,e)}function og(e,n){return n.map(t=>t.replace(Lc,e))}var Xp=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Ac(a),this.defaultRenderer=new ai(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===tt.ShadowDom&&(r=G(v({},r),{encapsulation:tt.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof As?i.applyToHost(t):i instanceof li&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case tt.Emulated:o=new As(l,c,r,this.appId,u,s,a,d,p);break;case tt.ShadowDom:return new Pc(l,c,t,r,s,a,this.nonce,d,p);default:o=new li(l,c,r,u,s,a,d,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(M(ng),M(rg),M(ic),M(LC),M(ye),M(Xr),M(ee),M(sc),M(Jn,8))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})(),ai=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,i,o){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(xc[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(eg(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(eg(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new D(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let o=xc[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=xc[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(en.DashCase|en.Important)?n.style.setProperty(t,r,i&en.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&en.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,i){if(typeof n=="string"&&(n=tr().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${t}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,i)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function eg(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Pc=class extends ai{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,i,o,s,a,l,c){super(n,o,s,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=og(i.id,u);for(let p of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=p,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let p of d){let f=Oc(p,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},li=class extends ai{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,i,o,s,a,l,c){super(n,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?og(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},As=class extends li{contentAttr;hostAttr;constructor(n,t,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(n,t,r,o,s,a,l,c,u),this.contentAttr=FC(u),this.hostAttr=jC(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}},BC=(()=>{class e extends Ts{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(M(ye))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})(),tg=["alt","control","meta","shift"],VC={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$C={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},UC=(()=>{class e extends Ts{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),tg.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=VC[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),tg.forEach(s=>{if(s!==i){let a=$C[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(M(ye))};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})();function sg(e,n){return jp(v({rootComponent:e},HC(n)))}function HC(e){return{appProviders:[...KC,...e?.providers??[]],platformProviders:WC}}function zC(){Nc.makeCurrent()}function GC(){return new mt}function qC(){return Fh(document),document}var WC=[{provide:Xr,useValue:Jp},{provide:oc,useValue:zC,multi:!0},{provide:ye,useFactory:qC,deps:[]}];var KC=[{provide:ns,useValue:"root"},{provide:mt,useFactory:GC,deps:[]},{provide:kc,useClass:BC,multi:!0,deps:[ye]},{provide:kc,useClass:UC,multi:!0,deps:[ye]},Xp,rg,ng,{provide:zn,useExisting:Xp},{provide:Is,useClass:RC,deps:[]},[]];var ag=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(M(ye))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var A="primary",Ci=Symbol("RouteTitle"),$c=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function lr(e){return new $c(e)}function ZC(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function YC(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!ot(e[t],n[t]))return!1;return!0}function ot(e,n){let t=e?Uc(e):void 0,r=n?Uc(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!yg(e[i],n[i]))return!1;return!0}function Uc(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function yg(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}else return e===n}function vg(e){return e.length>0?e[e.length-1]:null}function $t(e){return Ba(e)?e:ti(e)?Z(Promise.resolve(e)):E(e)}var QC={exact:wg,subset:Dg},bg={exact:XC,subset:eE,ignored:()=>!0};function lg(e,n,t){return QC[t.paths](e.root,n.root,t.matrixParams)&&bg[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function XC(e,n){return ot(e,n)}function wg(e,n,t){if(!rn(e.segments,n.segments)||!Ns(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!wg(e.children[r],n.children[r],t))return!1;return!0}function eE(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>yg(e[t],n[t]))}function Dg(e,n,t){return Cg(e,n,n.segments,t)}function Cg(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!rn(i,t)||n.hasChildren()||!Ns(i,t,r))}else if(e.segments.length===t.length){if(!rn(e.segments,t)||!Ns(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!Dg(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!rn(e.segments,i)||!Ns(e.segments,i,r)||!e.children[A]?!1:Cg(e.children[A],n,o,r)}}function Ns(e,n,t){return n.every((r,i)=>bg[t](e[i].parameters,r.parameters))}var Et=class{root;queryParams;fragment;_queryParamMap;constructor(n=new V([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=lr(this.queryParams),this._queryParamMap}toString(){return rE.serialize(this)}},V=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ks(this)}},nn=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=lr(this.parameters),this._parameterMap}toString(){return _g(this)}};function tE(e,n){return rn(e,n)&&e.every((t,r)=>ot(t.parameters,n[r].parameters))}function rn(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function nE(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===A&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==A&&(t=t.concat(n(i,r)))}),t}var Ei=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:()=>new cr,providedIn:"root"})}return e})(),cr=class{parse(n){let t=new zc(n);return new Et(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${ci(n.root,!0)}`,r=sE(n.queryParams),i=typeof n.fragment=="string"?`#${iE(n.fragment)}`:"";return`${t}${r}${i}`}},rE=new cr;function ks(e){return e.segments.map(n=>_g(n)).join("/")}function ci(e,n){if(!e.hasChildren())return ks(e);if(n){let t=e.children[A]?ci(e.children[A],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==A&&r.push(`${i}:${ci(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=nE(e,(r,i)=>i===A?[ci(e.children[A],!1)]:[`${i}:${ci(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[A]!=null?`${ks(e)}/${t[0]}`:`${ks(e)}/(${t.join("//")})`}}function Eg(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xs(e){return Eg(e).replace(/%3B/gi,";")}function iE(e){return encodeURI(e)}function Hc(e){return Eg(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Os(e){return decodeURIComponent(e)}function cg(e){return Os(e.replace(/\+/g,"%20"))}function _g(e){return`${Hc(e.path)}${oE(e.parameters)}`}function oE(e){return Object.entries(e).map(([n,t])=>`;${Hc(n)}=${Hc(t)}`).join("")}function sE(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${xs(t)}=${xs(i)}`).join("&"):`${xs(t)}=${xs(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var aE=/^[^\/()?;#]+/;function Fc(e){let n=e.match(aE);return n?n[0]:""}var lE=/^[^\/()?;=#]+/;function cE(e){let n=e.match(lE);return n?n[0]:""}var uE=/^[^=?&#]+/;function dE(e){let n=e.match(uE);return n?n[0]:""}var fE=/^[^&#]+/;function hE(e){let n=e.match(fE);return n?n[0]:""}var zc=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new V([],{}):new V([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[A]=new V(n,t)),r}parseSegment(){let n=Fc(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(n),new nn(Os(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=cE(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Fc(this.remaining);i&&(r=i,this.capture(r))}n[Os(t)]=Os(r)}parseQueryParam(n){let t=dE(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=hE(this.remaining);s&&(r=s,this.capture(r))}let i=cg(t),o=cg(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Fc(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new D(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=A);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[A]:new V([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new D(4011,!1)}};function Sg(e){return e.segments.length>0?new V([],{[A]:e}):e}function Ig(e){let n={};for(let[r,i]of Object.entries(e.children)){let o=Ig(i);if(r===A&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new V(e.segments,n);return pE(t)}function pE(e){if(e.numberOfChildren===1&&e.children[A]){let n=e.children[A];return new V(e.segments.concat(n.segments),n.children)}return e}function on(e){return e instanceof Et}function gE(e,n,t=null,r=null){let i=Mg(e);return Tg(i,n,t,r)}function Mg(e){let n;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new V(o.url,s);return o===e&&(n=a),a}let r=t(e.root),i=Sg(r);return n??i}function Tg(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(n.length===0)return jc(i,i,i,t,r);let o=mE(n);if(o.toRoot())return jc(i,i,new V([],{}),t,r);let s=yE(o,i,e),a=s.processChildren?di(s.segmentGroup,s.index,o.commands):xg(s.segmentGroup,s.index,o.commands);return jc(i,s.segmentGroup,a,t,r)}function Ps(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function pi(e){return typeof e=="object"&&e!=null&&e.outlets}function jc(e,n,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===n?s=t:s=Ag(e,n,t);let a=Sg(Ig(s));return new Et(a,o,i)}function Ag(e,n,t){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===n?r[i]=t:r[i]=Ag(o,n,t)}),new V(e.segments,r)}var Ls=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Ps(r[0]))throw new D(4003,!1);let i=r.find(pi);if(i&&i!==vg(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function mE(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Ls(!0,0,e);let n=0,t=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ls(t,n,r)}var or=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function yE(e,n,t){if(e.isAbsolute)return new or(n,!0,0);if(!t)return new or(n,!1,NaN);if(t.parent===null)return new or(t,!0,0);let r=Ps(e.commands[0])?0:1,i=t.segments.length-1+r;return vE(t,i,e.numberOfDoubleDots)}function vE(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new D(4005,!1);i=r.segments.length}return new or(r,!1,i-o)}function bE(e){return pi(e[0])?e[0].outlets:{[A]:e}}function xg(e,n,t){if(e??=new V([],{}),e.segments.length===0&&e.hasChildren())return di(e,n,t);let r=wE(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new V(e.segments.slice(0,r.pathIndex),{});return o.children[A]=new V(e.segments.slice(r.pathIndex),e.children),di(o,0,i)}else return r.match&&i.length===0?new V(e.segments,{}):r.match&&!e.hasChildren()?Gc(e,n,t):r.match?di(e,0,i):Gc(e,n,t)}function di(e,n,t){if(t.length===0)return new V(e.segments,{});{let r=bE(t),i={};if(Object.keys(r).some(o=>o!==A)&&e.children[A]&&e.numberOfChildren===1&&e.children[A].segments.length===0){let o=di(e.children[A],n,t);return new V(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=xg(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new V(e.segments,i)}}function wE(e,n,t){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;let s=e.segments[i],a=t[r];if(pi(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!dg(l,c,s))return o;r+=2}else{if(!dg(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Gc(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let o=t[i];if(pi(o)){let l=DE(o.outlets);return new V(r,l)}if(i===0&&Ps(t[0])){let l=e.segments[n];r.push(new nn(l.path,ug(t[0]))),i++;continue}let s=pi(o)?o.outlets[A]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Ps(a)?(r.push(new nn(s,ug(a))),i+=2):(r.push(new nn(s,{})),i++)}return new V(r,{})}function DE(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=Gc(new V([],{}),0,r))}),n}function ug(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function dg(e,n,t){return e==t.path&&ot(n,t.parameters)}var fi="imperative",se=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(se||{}),Ve=class{id;url;constructor(n,t){this.id=n,this.url=t}},ur=class extends Ve{type=se.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},st=class extends Ve{urlAfterRedirects;type=se.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Me=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Me||{}),Fs=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Fs||{}),Ct=class extends Ve{reason;code;type=se.NavigationCancel;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Bt=class extends Ve{reason;code;type=se.NavigationSkipped;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}},gi=class extends Ve{error;target;type=se.NavigationError;constructor(n,t,r,i){super(n,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},js=class extends Ve{urlAfterRedirects;state;type=se.RoutesRecognized;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qc=class extends Ve{urlAfterRedirects;state;type=se.GuardsCheckStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wc=class extends Ve{urlAfterRedirects;state;shouldActivate;type=se.GuardsCheckEnd;constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Kc=class extends Ve{urlAfterRedirects;state;type=se.ResolveStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jc=class extends Ve{urlAfterRedirects;state;type=se.ResolveEnd;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zc=class{route;type=se.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Yc=class{route;type=se.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Qc=class{snapshot;type=se.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xc=class{snapshot;type=se.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eu=class{snapshot;type=se.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tu=class{snapshot;type=se.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bs=class{routerEvent;position;anchor;type=se.Scroll;constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},mi=class{},dr=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function CE(e,n){return e.providers&&!e._injector&&(e._injector=bs(e.providers,n,`Route: ${e.path}`)),e._injector??n}function Je(e){return e.outlet||A}function EE(e,n){let t=e.filter(r=>Je(r)===n);return t.push(...e.filter(r=>Je(r)!==n)),t}function _i(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var nu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return _i(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Si(this.rootInjector)}},Si=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new nu(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(M(Ee))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vs=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=ru(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=ru(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=iu(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return iu(n,this._root).map(t=>t.value)}};function ru(e,n){if(e===n.value)return n;for(let t of n.children){let r=ru(e,t);if(r)return r}return null}function iu(e,n){if(e===n.value)return[n];for(let t of n.children){let r=iu(e,t);if(r.length)return r.unshift(n),r}return[]}var Ie=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function ir(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var $s=class extends Vs{snapshot;constructor(n,t){super(n),this.snapshot=t,hu(this,n)}toString(){return this.snapshot.toString()}};function Rg(e){let n=_E(e),t=new ae([new nn("",{})]),r=new ae({}),i=new ae({}),o=new ae({}),s=new ae(""),a=new at(t,r,o,s,i,A,e,n.root);return a.snapshot=n.root,new $s(new Ie(a,[]),n)}function _E(e){let n={},t={},r={},i="",o=new sr([],n,r,i,t,A,e,null,{});return new Hs("",new Ie(o,[]))}var at=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(B(c=>c[Ci]))??E(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(B(n=>lr(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(B(n=>lr(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Us(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:v(v({},n.params),e.params),data:v(v({},n.data),e.data),resolve:v(v(v(v({},e.data),n.data),i?.data),e._resolvedData)}:r={params:v({},e.params),data:v({},e.data),resolve:v(v({},e.data),e._resolvedData??{})},i&&kg(i)&&(r.resolve[Ci]=i.title),r}var sr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ci]}constructor(n,t,r,i,o,s,a,l,c){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=lr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=lr(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Hs=class extends Vs{url;constructor(n,t){super(t),this.url=n,hu(this,t)}toString(){return Ng(this._root)}};function hu(e,n){n.value._routerState=e,n.children.forEach(t=>hu(e,t))}function Ng(e){let n=e.children.length>0?` { ${e.children.map(Ng).join(", ")} } `:"";return`${e.value}${n}`}function Bc(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,ot(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),ot(n.params,t.params)||e.paramsSubject.next(t.params),YC(n.url,t.url)||e.urlSubject.next(t.url),ot(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function ou(e,n){let t=ot(e.params,n.params)&&tE(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||ou(e.parent,n.parent))}function kg(e){return typeof e.title=="string"||e.title===null}var SE=new _(""),pu=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=A;activateEvents=new we;deactivateEvents=new we;attachEvents=new we;detachEvents=new we;routerOutletData=xh(void 0);parentContexts=y(Si);location=y(vs);changeDetector=y(ii);inputBinder=y(Ws,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new su(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ds({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[is]})}return e})(),su=class e{route;childContexts;parent;outletData;__ngOutletInjector(n){return new e(this.route,this.childContexts,n,this.outletData)}constructor(n,t,r,i){this.route=n,this.childContexts=t,this.parent=r,this.outletData=i}get(n,t){return n===at?this.route:n===Si?this.childContexts:n===SE?this.outletData:this.parent.get(n,t)}},Ws=new _(""),fg=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Ar([r.queryParams,r.params,r.data]).pipe(xe(([o,s,a],l)=>(a=v(v(v({},o),s),a),l===0?E(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=Bp(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})();function IE(e,n,t){let r=yi(e,n._root,t?t._root:void 0);return new $s(r,n)}function yi(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=ME(e,n,t);return new Ie(r,i)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>yi(e,a)),s}}let r=TE(n.value),i=n.children.map(o=>yi(e,o));return new Ie(r,i)}}function ME(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return yi(e,r,i);return yi(e,r)})}function TE(e){return new at(new ae(e.url),new ae(e.params),new ae(e.queryParams),new ae(e.fragment),new ae(e.data),e.outlet,e.component,e)}var vi=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},Og="ngNavigationCancelingError";function zs(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=on(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=Pg(!1,Me.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Pg(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[Og]=!0,t.cancellationCode=n,t}function AE(e){return Lg(e)&&on(e.url)}function Lg(e){return!!e&&e[Og]}var xE=(e,n,t,r)=>B(i=>(new au(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)),au=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Bc(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=ir(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=ir(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=ir(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=ir(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new tu(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Xc(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(Bc(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Bc(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Gs=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},ar=class{component;route;constructor(n,t){this.component=n,this.route=t}};function RE(e,n,t){let r=e._root,i=n?n._root:null;return ui(r,i,t,[r.value])}function NE(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function hr(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!If(e)?e:n.get(e):r}function ui(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ir(n);return e.children.forEach(s=>{kE(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>hi(a,t.getContext(s),i)),i}function kE(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=OE(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Gs(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ui(e,n,a?a.children:null,r,i):ui(e,n,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ar(a.outlet.component,s))}else s&&hi(n,a,i),i.canActivateChecks.push(new Gs(r)),o.component?ui(e,null,a?a.children:null,r,i):ui(e,null,t,r,i);return i}function OE(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!rn(e.url,n.url);case"pathParamsOrQueryParamsChange":return!rn(e.url,n.url)||!ot(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ou(e,n)||!ot(e.queryParams,n.queryParams);case"paramsChange":default:return!ou(e,n)}}function hi(e,n,t){let r=ir(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?n?hi(s,n.children.getContext(o),t):hi(s,null,t):hi(s,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new ar(n.outlet.component,i)):t.canDeactivateChecks.push(new ar(null,i)):t.canDeactivateChecks.push(new ar(null,i))}function Ii(e){return typeof e=="function"}function PE(e){return typeof e=="boolean"}function LE(e){return e&&Ii(e.canLoad)}function FE(e){return e&&Ii(e.canActivate)}function jE(e){return e&&Ii(e.canActivateChild)}function BE(e){return e&&Ii(e.canDeactivate)}function VE(e){return e&&Ii(e.canMatch)}function Fg(e){return e instanceof ft||e?.name==="EmptyError"}var Rs=Symbol("INITIAL_VALUE");function fr(){return xe(e=>Ar(e.map(n=>n.pipe(ht(1),Ua(Rs)))).pipe(B(n=>{for(let t of n)if(t!==!0){if(t===Rs)return Rs;if(t===!1||$E(t))return t}return!0}),Ae(n=>n!==Rs),ht(1)))}function $E(e){return on(e)||e instanceof vi}function UE(e,n){return X(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?E(G(v({},t),{guardsResult:!0})):HE(s,r,i,e).pipe(X(a=>a&&PE(a)?zE(r,o,e,n):E(a)),B(a=>G(v({},t),{guardsResult:a})))})}function HE(e,n,t,r){return Z(e).pipe(X(i=>JE(i.component,i.route,t,n,r)),pt(i=>i!==!0,!0))}function zE(e,n,t,r){return Z(n).pipe(Wt(i=>Mn(qE(i.route.parent,r),GE(i.route,r),KE(e,i.path,t),WE(e,i.route,t))),pt(i=>i!==!0,!0))}function GE(e,n){return e!==null&&n&&n(new eu(e)),E(!0)}function qE(e,n){return e!==null&&n&&n(new Qc(e)),E(!0)}function WE(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return E(!0);let i=r.map(o=>wo(()=>{let s=_i(n)??t,a=hr(o,s),l=FE(a)?a.canActivate(n,e):Pe(s,()=>a(n,e));return $t(l).pipe(pt())}));return E(i).pipe(fr())}function KE(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>NE(s)).filter(s=>s!==null).map(s=>wo(()=>{let a=s.guards.map(l=>{let c=_i(s.node)??t,u=hr(l,c),d=jE(u)?u.canActivateChild(r,e):Pe(c,()=>u(r,e));return $t(d).pipe(pt())});return E(a).pipe(fr())}));return E(o).pipe(fr())}function JE(e,n,t,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return E(!0);let s=o.map(a=>{let l=_i(n)??i,c=hr(a,l),u=BE(c)?c.canDeactivate(e,n,t,r):Pe(l,()=>c(e,n,t,r));return $t(u).pipe(pt())});return E(s).pipe(fr())}function ZE(e,n,t,r){let i=n.canLoad;if(i===void 0||i.length===0)return E(!0);let o=i.map(s=>{let a=hr(s,e),l=LE(a)?a.canLoad(n,t):Pe(e,()=>a(n,t));return $t(l)});return E(o).pipe(fr(),jg(r))}function jg(e){return Pa(le(n=>{if(typeof n!="boolean")throw zs(e,n)}),B(n=>n===!0))}function YE(e,n,t,r){let i=n.canMatch;if(!i||i.length===0)return E(!0);let o=i.map(s=>{let a=hr(s,e),l=VE(a)?a.canMatch(n,t):Pe(e,()=>a(n,t));return $t(l)});return E(o).pipe(fr(),jg(r))}var bi=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},wi=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function rr(e){return Sn(new bi(e))}function QE(e){return Sn(new D(4e3,!1))}function XE(e){return Sn(Pg(!1,Me.GuardRejected))}var lu=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return E(r);if(i.numberOfChildren>1||!i.children[A])return QE(`${n.redirectTo}`);i=i.children[A]}}applyRedirectCommands(n,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:p,params:f,data:g,title:m}=i,b=Pe(o,()=>a({params:f,data:g,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:p,title:m}));if(b instanceof Et)throw new wi(b);t=b}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t[0]==="/")throw new wi(s);return s}applyRedirectCreateUrlTree(n,t,r,i){let o=this.createSegmentGroup(n,t.root,r,i);return new Et(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){let o=this.createSegments(n,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new V(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new D(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}},cu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function e_(e,n,t,r,i){let o=Bg(e,n,t);return o.matched?(r=CE(n,r),YE(r,n,t,i).pipe(B(s=>s===!0?o:v({},cu)))):E(o)}function Bg(e,n,t){if(n.path==="**")return t_(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?v({},cu):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||ZC)(t,e,n);if(!i)return v({},cu);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?v(v({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function t_(e){return{matched:!0,parameters:e.length>0?vg(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function hg(e,n,t,r){return t.length>0&&i_(e,t,r)?{segmentGroup:new V(n,r_(r,new V(t,e.children))),slicedSegments:[]}:t.length===0&&o_(e,t,r)?{segmentGroup:new V(e.segments,n_(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new V(e.segments,e.children),slicedSegments:t}}function n_(e,n,t,r){let i={};for(let o of t)if(Ks(e,n,o)&&!r[Je(o)]){let s=new V([],{});i[Je(o)]=s}return v(v({},r),i)}function r_(e,n){let t={};t[A]=n;for(let r of e)if(r.path===""&&Je(r)!==A){let i=new V([],{});t[Je(r)]=i}return t}function i_(e,n,t){return t.some(r=>Ks(e,n,r)&&Je(r)!==A)}function o_(e,n,t){return t.some(r=>Ks(e,n,r))}function Ks(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function s_(e,n,t){return n.length===0&&!e.children[t]}var uu=class{};function a_(e,n,t,r,i,o,s="emptyOnly"){return new du(e,n,t,r,i,s,o).recognize()}var l_=31,du=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new lu(this.urlSerializer,this.urlTree)}noMatchError(n){return new D(4002,`'${n.segmentGroup}'`)}recognize(){let n=hg(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(B(({children:t,rootSnapshot:r})=>{let i=new Ie(r,t),o=new Hs("",i),s=gE(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let t=new sr([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),A,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,A,t).pipe(B(r=>({children:r,rootSnapshot:t})),Tt(r=>{if(r instanceof wi)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof bi?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,o):this.processSegment(n,t,r,r.segments,i,!0,o).pipe(B(s=>s instanceof Ie?[s]:[]))}processChildren(n,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Z(o).pipe(Wt(s=>{let a=r.children[s],l=EE(t,s);return this.processSegmentGroup(n,l,a,s,i)}),$a((s,a)=>(s.push(...a),s)),At(null),Va(),X(s=>{if(s===null)return rr(r);let a=Vg(s);return c_(a),E(a)}))}processSegment(n,t,r,i,o,s,a){return Z(t).pipe(Wt(l=>this.processSegmentAgainstRoute(l._injector??n,t,l,r,i,o,s,a).pipe(Tt(c=>{if(c instanceof bi)return E(null);throw c}))),pt(l=>!!l),Tt(l=>{if(Fg(l))return s_(r,i,o)?E(new uu):rr(r);throw l}))}processSegmentAgainstRoute(n,t,r,i,o,s,a,l){return Je(r)!==s&&(s===A||!Ks(i,o,r))?rr(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s,l):rr(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=Bg(t,i,o);if(!l)return rr(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>l_&&(this.allowRedirects=!1));let f=new sr(o,c,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,pg(i),Je(i),i.component??i._loadedComponent??null,i,gg(i)),g=Us(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(g.params),f.data=Object.freeze(g.data);let m=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,n);return this.applyRedirects.lineralizeSegments(i,m).pipe(X(b=>this.processSegment(n,r,t,b.concat(p),s,!1,a)))}matchSegmentAgainstRoute(n,t,r,i,o,s){let a=e_(t,r,i,n,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(xe(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(xe(({routes:c})=>{let u=r._loadedInjector??n,{parameters:d,consumedSegments:p,remainingSegments:f}=l,g=new sr(p,d,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,pg(r),Je(r),r.component??r._loadedComponent??null,r,gg(r)),m=Us(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);let{segmentGroup:b,slicedSegments:C}=hg(t,p,f,c);if(C.length===0&&b.hasChildren())return this.processChildren(u,c,b,g).pipe(B(he=>new Ie(g,he)));if(c.length===0&&C.length===0)return E(new Ie(g,[]));let J=Je(r)===o;return this.processSegment(u,c,b,C,J?A:o,!0,g).pipe(B(he=>new Ie(g,he instanceof Ie?[he]:[])))}))):rr(t)))}getChildConfig(n,t,r){return t.children?E({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?E({routes:t._loadedRoutes,injector:t._loadedInjector}):ZE(n,t,r,this.urlSerializer).pipe(X(i=>i?this.configLoader.loadChildren(n,t).pipe(le(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):XE(t))):E({routes:[],injector:n})}};function c_(e){e.sort((n,t)=>n.value.outlet===A?-1:t.value.outlet===A?1:n.value.outlet.localeCompare(t.value.outlet))}function u_(e){let n=e.value.routeConfig;return n&&n.path===""}function Vg(e){let n=[],t=new Set;for(let r of e){if(!u_(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=Vg(r.children);n.push(new Ie(r.value,i))}return n.filter(r=>!t.has(r))}function pg(e){return e.data||{}}function gg(e){return e.resolve||{}}function d_(e,n,t,r,i,o){return X(s=>a_(e,n,t,r,s.extractedUrl,i,o).pipe(B(({state:a,tree:l})=>G(v({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function f_(e,n){return X(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return E(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of $g(l))s.add(c);let a=0;return Z(s).pipe(Wt(l=>o.has(l)?h_(l,r,e,n):(l.data=Us(l,l.parent,e).resolve,E(void 0))),le(()=>a++),Tn(1),X(l=>a===s.size?E(t):pe))})}function $g(e){let n=e.children.map(t=>$g(t)).flat();return[e,...n]}function h_(e,n,t,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!kg(i)&&(o[Ci]=i.title),p_(o,e,n,r).pipe(B(s=>(e._resolvedData=s,e.data=Us(e,e.parent,t).resolve,null)))}function p_(e,n,t,r){let i=Uc(e);if(i.length===0)return E({});let o={};return Z(i).pipe(X(s=>g_(e[s],n,t,r).pipe(pt(),le(a=>{if(a instanceof vi)throw zs(new cr,a);o[s]=a}))),Tn(1),B(()=>o),Tt(s=>Fg(s)?pe:Sn(s)))}function g_(e,n,t,r){let i=_i(n)??r,o=hr(e,i),s=o.resolve?o.resolve(n,t):Pe(i,()=>o(n,t));return $t(s)}function Vc(e){return xe(n=>{let t=e(n);return t?Z(t).pipe(B(()=>n)):E(n)})}var Ug=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===A);return r}getResolvedTitleForRoute(t){return t.data[Ci]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:()=>y(m_),providedIn:"root"})}return e})(),m_=(()=>{class e extends Ug{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(M(ag))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Mi=new _("",{providedIn:"root",factory:()=>({})}),y_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=me({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&_e(0,"router-outlet")},dependencies:[pu],encapsulation:2})}return e})();function gu(e){let n=e.children&&e.children.map(gu),t=n?G(v({},e),{children:n}):v({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==A&&(t.component=y_),t}var Di=new _(""),mu=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(_s);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return E(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=$t(t.loadComponent()).pipe(B(Hg),le(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),xr(()=>{this.componentLoaders.delete(t)})),i=new _n(r,()=>new K).pipe(En());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return E({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=v_(r,this.compiler,t,this.onLoadEndListener).pipe(xr(()=>{this.childrenLoaders.delete(r)})),s=new _n(o,()=>new K).pipe(En());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function v_(e,n,t,r){return $t(e.loadChildren()).pipe(B(Hg),X(i=>i instanceof zr||Array.isArray(i)?E(i):Z(n.compileModuleAsync(i))),B(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Di,[],{optional:!0,self:!0}).flat()),{routes:s.map(gu),injector:o}}))}function b_(e){return e&&typeof e=="object"&&"default"in e}function Hg(e){return b_(e)?e.default:e}var yu=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:()=>y(w_),providedIn:"root"})}return e})(),w_=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zg=new _(""),Gg=new _("");function D_(e,n,t){let r=e.get(Gg),i=e.get(ye);return e.get(ee).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),C_(e))),{onViewTransitionCreated:l}=r;return l&&Pe(e,()=>l({transition:a,from:n,to:t})),s})}function C_(e){return new Promise(n=>{lc({read:()=>setTimeout(n)},{injector:e})})}var qg=new _(""),vu=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new K;transitionAbortSubject=new K;configLoader=y(mu);environmentInjector=y(Ee);destroyRef=y(Zr);urlSerializer=y(Ei);rootContexts=y(Si);location=y(nr);inputBindingEnabled=y(Ws,{optional:!0})!==null;titleStrategy=y(Ug);options=y(Mi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(yu);createViewTransition=y(zg,{optional:!0});navigationErrorHandler=y(qg,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>E(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Zc(i)),r=i=>this.events.next(new Yc(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(G(v(v({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new ae({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:fi,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ae(o=>o.id!==0),B(o=>G(v({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),xe(o=>{let s=!1,a=!1;return E(o).pipe(xe(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Me.SupersededByNewNavigation),pe;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?G(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new Bt(l.id,this.urlSerializer.serialize(l.rawUrl),d,Fs.IgnoredSameUrlNavigation)),l.resolve(!1),pe}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return E(l).pipe(xe(d=>{let p=this.transitions?.getValue();return this.events.next(new ur(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),p!==this.transitions?.getValue()?pe:Promise.resolve(d)}),d_(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),le(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=G(v({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let p=new js(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:p,source:f,restoredState:g,extras:m}=l,b=new ur(d,this.urlSerializer.serialize(p),f,g);this.events.next(b);let C=Rg(this.rootComponentType).snapshot;return this.currentTransition=o=G(v({},l),{targetSnapshot:C,urlAfterRedirects:p,extras:G(v({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,E(o)}else{let d="";return this.events.next(new Bt(l.id,this.urlSerializer.serialize(l.extractedUrl),d,Fs.IgnoredByUrlHandlingStrategy)),l.resolve(!1),pe}}),le(l=>{let c=new qc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),B(l=>(this.currentTransition=o=G(v({},l),{guards:RE(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),UE(this.environmentInjector,l=>this.events.next(l)),le(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw zs(this.urlSerializer,l.guardsResult);let c=new Wc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Ae(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Me.GuardRejected),!1)),Vc(l=>{if(l.guards.canActivateChecks.length)return E(l).pipe(le(c=>{let u=new Kc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),xe(c=>{let u=!1;return E(c).pipe(f_(this.paramsInheritanceStrategy,this.environmentInjector),le({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Me.NoDataFromResolver)}}))}),le(c=>{let u=new Jc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Vc(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(le(p=>{u.component=p}),B(()=>{})));for(let p of u.children)d.push(...c(p));return d};return Ar(c(l.targetSnapshot.root)).pipe(At(null),ht(1))}),Vc(()=>this.afterPreactivation()),xe(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?Z(u).pipe(B(()=>o)):E(o)}),B(l=>{let c=IE(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=G(v({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),le(()=>{this.events.next(new mi)}),xE(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ht(1),le({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new st(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Ha(this.transitionAbortSubject.pipe(le(l=>{throw l}))),xr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Me.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Tt(l=>{if(this.destroyed)return o.resolve(!1),pe;if(a=!0,Lg(l))this.events.next(new Ct(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),AE(l)?this.events.next(new dr(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new gi(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=Pe(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof vi){let{message:d,cancellationCode:p}=zs(this.urlSerializer,u);this.events.next(new Ct(o.id,this.urlSerializer.serialize(o.extractedUrl),d,p)),this.events.next(new dr(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return pe}))}))}cancelNavigationTransition(t,r,i){let o=new Ct(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function E_(e){return e!==fi}var __=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:()=>y(S_),providedIn:"root"})}return e})(),fu=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},S_=(()=>{class e extends fu{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ec(e)))(i||e)}})();static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Wg=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:()=>y(I_),providedIn:"root"})}return e})(),I_=(()=>{class e extends Wg{location=y(nr);urlSerializer=y(Ei);options=y(Mi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=y(yu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Et;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=Rg(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof ur)this.stateMemento=this.createStateMemento();else if(t instanceof Bt)this.rawUrlTree=r.initialUrl;else if(t instanceof js){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof mi?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Ct&&(t.code===Me.GuardRejected||t.code===Me.NoDataFromResolver)?this.restoreHistory(r):t instanceof gi?this.restoreHistory(r,!0):t instanceof st&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Et?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=v(v({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=v(v({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ec(e)))(i||e)}})();static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Kg(e,n){e.events.pipe(Ae(t=>t instanceof st||t instanceof Ct||t instanceof gi||t instanceof Bt),B(t=>t instanceof st||t instanceof Bt?0:(t instanceof Ct?t.code===Me.Redirect||t.code===Me.SupersededByNewNavigation:!1)?2:1),Ae(t=>t!==2),ht(1)).subscribe(()=>{n()})}var M_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},T_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Vt=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(Ec);stateManager=y(Wg);options=y(Mi,{optional:!0})||{};pendingTasks=y(Kn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(vu);urlSerializer=y(Ei);location=y(nr);urlHandlingStrategy=y(yu);_events=new K;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(__);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(Di,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(Ws,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Q;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Ct&&r.code!==Me.Redirect&&r.code!==Me.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof st)this.navigated=!0;else if(r instanceof dr){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=v({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||E_(i.source)},s);this.scheduleNavigation(a,fi,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}x_(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=v({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(gu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=v(v({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=i?i.snapshot:this.routerState.snapshot.root;d=Mg(p)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return Tg(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=on(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,fi,null,r)}navigate(t,r={skipLocationChange:!1}){return A_(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=v({},M_):r===!1?i=v({},T_):i=r,on(t))return lg(this.currentUrlTree,t,i);let o=this.parseUrl(t);return lg(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,p)=>{a=d,l=p});let u=this.pendingTasks.add();return Kg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function A_(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new D(4008,!1)}function x_(e){return!(e instanceof mi)&&!(e instanceof dr)}var Jg=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new K;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof st&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(on(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Gh(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:on(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(te(Vt),te(at),tc("tabindex"),te(ys),te(Yr),te(Dt))};static \u0275dir=Ds({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Se("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ni("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",oi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",oi],replaceUrl:[2,"replaceUrl","replaceUrl",oi],routerLink:"routerLink"},features:[is]})}return e})();var qs=class{};var R_=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ae(t=>t instanceof st),Wt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=bs(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Z(i).pipe(In())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=E(null);let o=i.pipe(X(s=>s===null?E(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Z([o,s]).pipe(In())}else return o})}static \u0275fac=function(r){return new(r||e)(M(Vt),M(_s),M(Ee),M(qs),M(mu))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Zg=new _(""),N_=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ur?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof st?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Bt&&t.code===Fs.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Bs&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Bs(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Cp()};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})();function Yg(e,...n){return ts([{provide:Di,multi:!0,useValue:e},[],{provide:at,useFactory:Qg,deps:[Vt]},{provide:Es,multi:!0,useFactory:Xg},n.map(t=>t.\u0275providers)])}function Qg(e){return e.routerState.root}function Ti(e,n){return{\u0275kind:e,\u0275providers:n}}function Xg(){let e=y(Oe);return n=>{let t=e.get(Pt);if(n!==t.components[0])return;let r=e.get(Vt),i=e.get(em);e.get(bu)===1&&r.initialNavigation(),e.get(tm,null,x.Optional)?.setUpPreloading(),e.get(Zg,null,x.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var em=new _("",{factory:()=>new K}),bu=new _("",{providedIn:"root",factory:()=>1});function k_(){return Ti(2,[{provide:bu,useValue:0},{provide:Cs,multi:!0,deps:[Oe],useFactory:n=>{let t=n.get(Gp,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=n.get(Vt),o=n.get(em);Kg(i,()=>{r(!0)}),n.get(vu).afterPreactivation=()=>(r(!0),o.closed?E(void 0):o),i.initialNavigation()}))}}])}function O_(){return Ti(3,[{provide:Cs,multi:!0,useFactory:()=>{let n=y(Vt);return()=>{n.setUpLocationChangeListener()}}},{provide:bu,useValue:2}])}var tm=new _("");function P_(e){return Ti(0,[{provide:tm,useExisting:R_},{provide:qs,useExisting:e}])}function L_(){return Ti(8,[fg,{provide:Ws,useExisting:fg}])}function F_(e){let n=[{provide:zg,useValue:D_},{provide:Gg,useValue:v({skipNextTransition:!!e?.skipInitialTransition},e)}];return Ti(9,n)}var j_=[nr,{provide:Ei,useClass:cr},Vt,Si,{provide:at,useFactory:Qg,deps:[Vt]},mu,[]],nm=(()=>{class e{constructor(){}static forRoot(t,r){return{ngModule:e,providers:[j_,[],{provide:Di,multi:!0,useValue:t},[],r?.errorHandler?{provide:qg,useValue:r.errorHandler}:[],{provide:Mi,useValue:r||{}},r?.useHash?V_():$_(),B_(),r?.preloadingStrategy?P_(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?U_(r):[],r?.bindToComponentInputs?L_().\u0275providers:[],r?.enableViewTransitions?F_().\u0275providers:[],H_()]}}static forChild(t){return{ngModule:e,providers:[{provide:Di,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=ws({type:e});static \u0275inj=Yo({})}return e})();function B_(){return{provide:Zg,useFactory:()=>{let e=y(Zp),n=y(ee),t=y(Mi),r=y(vu),i=y(Ei);return t.scrollOffset&&e.setOffset(t.scrollOffset),new N_(i,r,e,n,t)}}}function V_(){return{provide:Dt,useClass:Wp}}function $_(){return{provide:Dt,useClass:Tc}}function U_(e){return[e.initialNavigation==="disabled"?O_().\u0275providers:[],e.initialNavigation==="enabledBlocking"?k_().\u0275providers:[]]}var mg=new _("");function H_(){return[{provide:mg,useFactory:Xg},{provide:Es,multi:!0,useExisting:mg}]}var pr=class e{socket;reconnectTimer;peersSubject=new K;peerJoinedSubject=new K;peerLeftSubject=new K;signalSubject=new K;displayNameSubject=new K;notificationSubject=new K;constructor(){this.connect(),window.addEventListener("beforeunload",()=>this.disconnect()),document.addEventListener("visibilitychange",()=>this.onVisibilityChange())}connect(){if(this.socket&&(this.socket.readyState===WebSocket.OPEN||this.socket.readyState===WebSocket.CONNECTING))return;let n=this.getEndpoint();this.socket=new WebSocket(n),this.socket.binaryType="arraybuffer",this.socket.onopen=()=>{console.log("WS: connected")},this.socket.onmessage=t=>{this.handleMessage(t.data)},this.socket.onclose=()=>{console.log("WS: disconnected"),this.notificationSubject.next("Connection lost. Retry in 5 seconds..."),clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(()=>this.connect(),5e3)},this.socket.onerror=t=>{console.error("WebSocket error:",t)}}getEndpoint(){return"ws://192.168.1.145:3000"}handleMessage(n){let t;try{t=JSON.parse(n)}catch{console.error("Invalid JSON:",n);return}switch(console.log("WS message:",t),t.type){case"peers":this.peersSubject.next(t.peers);break;case"peer-joined":this.peerJoinedSubject.next(t.peer);break;case"peer-left":this.peerLeftSubject.next(t.peerId);break;case"signal":this.signalSubject.next(t);break;case"ping":this.send({type:"pong"});break;case"display-name":this.displayNameSubject.next(t);break;default:console.error("Unknown message type:",t)}}send(n){this.socket&&this.socket.readyState===WebSocket.OPEN&&this.socket.send(JSON.stringify(n))}disconnect(){this.send({type:"disconnect"}),this.socket&&(this.socket.onclose=null,this.socket.close())}onVisibilityChange(){document.hidden||this.connect()}getPeers(){return this.peersSubject.asObservable()}getPeerJoined(){return this.peerJoinedSubject.asObservable()}getPeerLeft(){return this.peerLeftSubject.asObservable()}getSignal(){return this.signalSubject.asObservable()}getDisplayName(){return this.displayNameSubject.asObservable()}getNotifications(){return this.notificationSubject.asObservable()}static \u0275fac=function(t){return new(t||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})};var z_=(e,n)=>n.id;function G_(e,n){e&1&&(R(0,"div",0)(1,"h2"),z(2,"No se encuentran dispositivos cercanos a tu alrededor"),L()())}function q_(e,n){if(e&1){let t=jt();R(0,"div",2),Se("click",function(){let i=Lt(t).$implicit,o=je();return Ft(o.selectPeer(i))}),R(1,"div",3),Jr(),R(2,"svg",4),_e(3,"use"),L()(),as(),R(4,"div",5)(5,"div",6),z(6),L(),R(7,"div",7),z(8),L()()()}if(e&2){let t=n.$implicit,r=je();Y(3),ni("href",r.getIcon(t),null,"xlink"),Y(3),it(t.name.displayName),Y(2),it(t.name.deviceName)}}var Js=class e{constructor(n){this.dropSendService=n}peers=[];ngOnInit(){this.dropSendService.getPeers().subscribe(n=>{this.peers=n})}selectPeer(n){console.log("Selected peer:",n)}getIcon(n){return n.name.device&&n.name.device.type==="mobile"?"#phone-iphone":"#desktop-mac"}static \u0275fac=function(t){return new(t||e)(te(pr))};static \u0275cmp=me({type:e,selectors:[["app-peerscomponent"]],decls:3,vars:1,consts:[[1,"no-peers"],[1,"peer"],[1,"peer",3,"click"],[1,"peer-icon"],[1,"icon"],[1,"peer-info"],[1,"peer-name"],[1,"peer-device"]],template:function(t,r){t&1&&(Fe(0,G_,3,0,"div",0),Xn(1,q_,9,3,"div",1,z_)),t&2&&(rt(r.peers.length===0?0:-1),Y(),er(r.peers))},encapsulation:2})};var om=e=>{e=1831565813+(e|=0)|0;let n=Math.imul(e^e>>>15,1|e);return n=n+Math.imul(n^n>>>7,61|n)^n,((n^n>>>14)>>>0)/4294967296},wu=class{constructor(n){this.dictionaries=void 0,this.length=void 0,this.separator=void 0,this.style=void 0,this.seed=void 0;let{length:t,separator:r,dictionaries:i,style:o,seed:s}=n;this.dictionaries=i,this.separator=r,this.length=t,this.style=o,this.seed=s}generate(){if(!this.dictionaries)throw new Error('Cannot find any dictionary. Please provide at least one, or leave the "dictionary" field empty in the config object');if(this.length<=0)throw new Error("Invalid length provided");if(this.length>this.dictionaries.length)throw new Error(`The length cannot be bigger than the number of dictionaries.
Length provided: ${this.length}. Number of dictionaries provided: ${this.dictionaries.length}`);let n=this.seed;return this.dictionaries.slice(0,this.length).reduce((t,r)=>{let i;n?(i=(s=>{if(typeof s=="string"){let a=s.split("").map(c=>c.charCodeAt(0)).reduce((c,u)=>c+u,1),l=Math.floor(Number(a));return om(l)}return om(s)})(n),n=4294967296*i):i=Math.random();let o=r[Math.floor(i*r.length)]||"";if(this.style==="lowerCase")o=o.toLowerCase();else if(this.style==="capital"){let[s,...a]=o.split("");o=s.toUpperCase()+a.join("")}else this.style==="upperCase"&&(o=o.toUpperCase());return t?`${t}${this.separator}${o}`:`${o}`},"")}},sm={separator:"_",dictionaries:[]},am=e=>{let n=[...e&&e.dictionaries||sm.dictionaries],t=G(v(v({},sm),e),{length:e&&e.length||n.length,dictionaries:n});if(!e||!e.dictionaries||!e.dictionaries.length)throw new Error('A "dictionaries" array must be provided. This is a breaking change introduced starting from Unique Name Generator v4. Read more about the breaking change here: https://github.com/andreasonny83/unique-names-generator#migration-guide');return new wu(t).generate()};var W_=["Rojo","Verde","Azul","Amarillo","Naranja","Rosa","Morado","Feliz","Marr\xF3n","Gris"],K_=["Perro","Gato","P\xE1jaro","Elefante","Tigre","Le\xF3n","Zorro","Rana","Serpiente","Caballo"],Zs=class e{generateName(n){let t=am({length:2,separator:" ",dictionaries:[K_,W_],style:"capital",seed:this.hashCode(n)}),r=this.getDeviceName();return{displayName:t,deviceName:r}}hashCode(n){let t=0;if(n.length===0)return t;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);t=(t<<5)-t+i,t|=0}return t}getDeviceName(){let n=navigator.userAgent;return n.indexOf("Android")>-1?"Dispositivo Android":n.indexOf("iPhone")>-1||n.indexOf("iPad")>-1?"Dispositivo iOS":n.indexOf("Windows")>-1?"PC con Windows":n.indexOf("Mac")>-1?"Mac":"Dispositivo Desconocido"}static \u0275fac=function(t){return new(t||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})};function Z_(e,n){e&1&&(R(0,"button",1),Jr(),R(1,"svg",7),_e(2,"use",8),L()())}var Ys=class e{constructor(n,t){this.dropSendService=n;this.nameGen=t}showAboutPage=!1;showNotification=!1;showInstall=!1;displayName="Unknown";ngOnInit(){this.dropSendService.getDisplayName().subscribe(r=>{r&&r.message&&(this.displayName=r.message.displayName)});let n=this.generateSeed(),t=this.nameGen.generateName(n);this.displayName=t.displayName}generateSeed(){return Math.random().toString(36).substring(2,15)}installApp(){}static \u0275fac=function(t){return new(t||e)(te(pr),te(Zs))};static \u0275cmp=me({type:e,selectors:[["app-dropsend"]],decls:10,vars:2,consts:[[1,"row-reverse"],["id","notification","title","Enable Notifications"],[1,"column"],[1,"icon","logo"],[0,"xlink","href","#wifi-tethering"],["id","displayName"],[1,"font-body2"],[1,"icon"],[0,"xlink","href","#notifications"]],template:function(t,r){t&1&&(R(0,"header",0),Fe(1,Z_,3,0,"button",1),L(),_e(2,"app-peerscomponent"),R(3,"footer",2),Jr(),R(4,"svg",3),_e(5,"use",4),L(),as(),R(6,"div",5),z(7),L(),R(8,"div",6),z(9," Puedes ser descubierto por cualquiera que est\xE9 en esta red "),L()()),t&2&&(Y(),rt(r.showNotification?1:-1),Y(6),it(r.displayName))},dependencies:[Js],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;height:100%;font-family:Arial,sans-serif;background-color:#e7eaf0;color:#fff;display:flex;flex-direction:column;align-items:center}header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%;padding:10px;background-color:#eadede}header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:10px}.icon[_ngcontent-%COMP%]{width:24px;height:24px;fill:#fff}.no-peers[_ngcontent-%COMP%]{text-align:center;margin-top:20px}footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;background-color:#f0e4e4;width:100%}footer[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:40px;height:40px;margin-bottom:10px}#displayName[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px}.font-body2[_ngcontent-%COMP%]{font-size:.9em;opacity:.8}.peer[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;margin:10px;background-color:#444;border-radius:8px;cursor:pointer;transition:background .3s}.peer[_ngcontent-%COMP%]:hover{background-color:#555}.peer-icon[_ngcontent-%COMP%]{margin-right:10px}.peer-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.peer-name[_ngcontent-%COMP%]{font-weight:700}.peer-device[_ngcontent-%COMP%]{font-size:.9em;opacity:.8}"]})};var lm=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)};var xi=class extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}},Qs=class extends xi{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},Xs=class extends xi{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},ea=class extends xi{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},Du=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(Du||{});var Y_=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},Ri=class{constructor(n,{headers:t={},customFetch:r,region:i=Du.Any}={}){this.url=n,this.headers=t,this.region=i,this.fetch=lm(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var r;return Y_(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=t,a={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));let u=yield this.fetch(`${this.url}/${n}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(g=>{throw new Qs(g)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Xs(u);if(!u.ok)throw new ea(u);let p=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return p==="application/json"?f=yield u.json():p==="application/octet-stream"?f=yield u.blob():p==="text/event-stream"?f=u:p==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}};var Dm=hy(wm(),1),{PostgrestClient:Cm,PostgrestQueryBuilder:FN,PostgrestFilterBuilder:jN,PostgrestTransformBuilder:BN,PostgrestBuilder:VN,PostgrestError:cS}=Dm.default;var Em="2.11.2";var _m={"X-Client-Info":`realtime-js/${Em}`},Sm="1.0.0",ia=1e4,Im=1e3,mr=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(mr||{}),Te=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(Te||{}),$e=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}($e||{}),ku=function(e){return e.websocket="websocket",e}(ku||{}),sn=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(sn||{});var oa=class{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(n.slice(s,s+i));s=s+i;let l=r.decode(n.slice(s,s+o));s=s+o;let c=JSON.parse(r.decode(n.slice(s,n.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var yr=class{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var W=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(W||{}),Pu=(e,n,t={})=>{var r;let i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((o,s)=>(o[s]=uS(s,e,n,i),o),{})},uS=(e,n,t,r)=>{let i=n.find(a=>a.name===e),o=i?.type,s=t[e];return o&&!r.includes(o)?Mm(o,s):Ou(s)},Mm=(e,n)=>{if(e.charAt(0)==="_"){let t=e.slice(1,e.length);return pS(n,t)}switch(e){case W.bool:return dS(n);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return fS(n);case W.json:case W.jsonb:return hS(n);case W.timestamp:return gS(n);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return Ou(n);default:return Ou(n)}},Ou=e=>e,dS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},fS=e=>{if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return n}return e},hS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},pS=(e,n)=>{if(typeof e!="string")return e;let t=e.length-1,r=e[t];if(e[0]==="{"&&r==="}"){let o,s=e.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>Mm(n,a))}return e},gS=e=>typeof e=="string"?e.replace(" ","T"):e,sa=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};var vr=class{constructor(n,t,r={},i=ia){this.channel=n,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var ji=class e{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=e.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,i){let o=this.cloneDeep(n),s=this.transformState(t),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let d=o[c];if(d){let p=u.map(b=>b.presence_ref),f=d.map(b=>b.presence_ref),g=u.filter(b=>f.indexOf(b.presence_ref)<0),m=d.filter(b=>p.indexOf(b.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(n,t,r,i){let{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=n[a])!==null&&c!==void 0?c:[];if(n[a]=this.cloneDeep(l),u.length>0){let d=n[a].map(f=>f.presence_ref),p=u.filter(f=>d.indexOf(f.presence_ref)<0);n[a].unshift(...p)}r(a,u,l)}),this.map(s,(a,l)=>{let c=n[a];if(!c)return;let u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),n[a]=c,i(a,c,l),c.length===0&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{let i=n[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var _t=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(_t||{});var Bi=class e{constructor(n,t={config:{}},r){this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=Te.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new vr(this,$e.join,this.params,this.timeout),this.rejoinTimer=new yr(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Te.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Te.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this._on($e.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new ji(this),this.broadcastEndpointURL=sa(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(u=>n?.(_t.CHANNEL_ERROR,u)),this._onClose(()=>n?.(_t.CLOSED));let l={},c={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",d=>h(this,[d],function*({postgres_changes:u}){var p;if(this.socket.setAuth(),u===void 0){n?.(_t.SUBSCRIBED);return}else{let f=this.bindings.postgres_changes,g=(p=f?.length)!==null&&p!==void 0?p:0,m=[];for(let b=0;b<g;b++){let C=f[b],{filter:{event:J,schema:he,table:He,filter:ut}}=C,mn=u&&u[b];if(mn&&mn.event===J&&mn.schema===he&&mn.table===He&&mn.filter===ut)m.push(Object.assign(Object.assign({},C),{id:mn.id}));else{this.unsubscribe(),n?.(_t.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,n&&n(_t.SUBSCRIBED);return}})).receive("error",u=>{n?.(_t.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{n?.(_t.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(n,t={}){return yield this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,t,r){return this._on(n,t,r)}send(r){return h(this,arguments,function*(n,t={}){var i,o;if(!this._canPush()&&n.type==="broadcast"){let{event:s,payload:a}=n,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let u=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Te.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($e.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let i=new vr(this,$e.leave,{},n);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_fetchWithTimeout(n,t,r){return h(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),s})}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new vr(this,n,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var i,o;let s=n.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=$e;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,t,r);if(t&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,m,b;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(m=f.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(f=>f.callback(p,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var g,m,b,C,J,he;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let He=f.id,ut=(g=f.filter)===null||g===void 0?void 0:g.event;return He&&((m=t.ids)===null||m===void 0?void 0:m.includes(He))&&(ut==="*"||ut?.toLocaleLowerCase()===((b=t.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{let He=(J=(C=f?.filter)===null||C===void 0?void 0:C.event)===null||J===void 0?void 0:J.toLocaleLowerCase();return He==="*"||He===((he=t?.event)===null||he===void 0?void 0:he.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof p=="object"&&"ids"in p){let g=p.data,{schema:m,table:b,commit_timestamp:C,type:J,errors:he}=g;p=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:C,eventType:J,new:{},old:{},errors:he}),this._getPayloadRecords(g))}f.callback(p,r)})}_isClosed(){return this.state===Te.closed}_isJoined(){return this.state===Te.joined}_isJoining(){return this.state===Te.joining}_isLeaving(){return this.state===Te.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){let i=n.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,t){let r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,t))}),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on($e.close,{},n)}_onError(n){this._on($e.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Te.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=Pu(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=Pu(n.columns,n.old_record)),t}};var yS=()=>{},vS=typeof WebSocket<"u",bS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Vi=class{constructor(n,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=_m,this.params={},this.timeout=ia,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=yS,this.conn=null,this.sendBuffer=[],this.serializer=new oa,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-BX7VDEVO.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${n}/${ku.websocket}`,this.httpEndpoint=sa(n),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let i=(r=t?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t?.encode?t.encode:(o,s)=>s(JSON.stringify(o)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new yr(()=>h(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(vS){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Lu(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-266KHGQI.js").then(({default:n})=>{this.conn=new n(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Sm}))}disconnect(n,t){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(n){return h(this,null,function*(){let t=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return h(this,null,function*(){let n=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),n})}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case mr.connecting:return sn.Connecting;case mr.open:return sn.Open;case mr.closing:return sn.Closing;default:return sn.Closed}}isConnected(){return this.connectionState()===sn.Open}channel(n,t={config:{}}){let r=new Bi(`realtime:${n}`,t,this);return this.channels.push(r),r}push(n){let{topic:t,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(n=null){return h(this,null,function*(){let t=n||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;if(t){let r=null;try{r=JSON.parse(atob(t.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=t,this.channels.forEach(i=>{t&&i.updateJoinPayload({access_token:t}),i.joinedOnce&&i._isJoined()&&i._push($e.access_token,{access_token:t})})}})}sendHeartbeat(){return h(this,null,function*(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close(Im,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}})}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t._joinRef()!==n._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,t=>{let{topic:r,event:i,payload:o,ref:s}=t;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){return h(this,null,function*(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(n=>n())})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger($e.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;let r=n.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${n}${r}${i}`}_workerObjectUrl(n){let t;if(n)t=n;else{let r=new Blob([bS],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}};var Lu=class{constructor(n,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=mr.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=r.close}};var br=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function ne(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var aa=class extends br{constructor(n,t){super(n),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},an=class extends br{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};var wS=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},ca=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},Tm=()=>wS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-BX7VDEVO.js")).Response:Response}),la=e=>{if(Array.isArray(e))return e.map(t=>la(t));if(typeof e=="function"||e!==Object(e))return e;let n={};return Object.entries(e).forEach(([t,r])=>{let i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=la(r)}),n};var ln=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},Fu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DS=(e,n,t)=>ln(void 0,void 0,void 0,function*(){let r=yield Tm();e instanceof r&&!t?.noResolveJson?e.json().then(i=>{n(new aa(Fu(i),e.status||500))}).catch(i=>{n(new an(Fu(i),i))}):n(new an(Fu(e),e))}),CS=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function $i(e,n,t,r,i,o){return ln(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,CS(n,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>DS(l,a,r))})})}function wr(e,n,t,r){return ln(this,void 0,void 0,function*(){return $i(e,"GET",n,t,r)})}function lt(e,n,t,r,i){return ln(this,void 0,void 0,function*(){return $i(e,"POST",n,r,i,t)})}function Am(e,n,t,r,i){return ln(this,void 0,void 0,function*(){return $i(e,"PUT",n,r,i,t)})}function xm(e,n,t,r){return ln(this,void 0,void 0,function*(){return $i(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function ua(e,n,t,r,i){return ln(this,void 0,void 0,function*(){return $i(e,"DELETE",n,r,i,t)})}var ve=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},ES={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},da=class{constructor(n,t={},r,i){this.url=n,this.headers=t,this.bucketId=r,this.fetch=ca(i)}uploadOrUpdate(n,t,r,i){return ve(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},Rm),i),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(t),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:n,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),p=yield d.json();return d.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(o){if(ne(o))return{data:null,error:o};throw o}})}upload(n,t,r){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,i){return ve(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let l,c=Object.assign({upsert:Rm.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),p=yield d.json();return d.ok?{data:{path:o,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(ne(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(n,t){return ve(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");let o=yield lt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new br("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}update(n,t,r){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t,r){return ve(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ne(i))return{data:null,error:i};throw i}})}copy(n,t,r){return ve(this,void 0,void 0,function*(){try{return{data:{path:(yield lt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ne(i))return{data:null,error:i};throw i}})}createSignedUrl(n,t,r){return ve(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield lt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(ne(i))return{data:null,error:i};throw i}})}createSignedUrls(n,t,r){return ve(this,void 0,void 0,function*(){try{let i=yield lt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(ne(i))return{data:null,error:i};throw i}})}download(n,t){return ve(this,void 0,void 0,function*(){let i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(n);return{data:yield(yield wr(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ne(a))return{data:null,error:a};throw a}})}info(n){return ve(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{let r=yield wr(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:la(r),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}exists(n){return ve(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{return yield xm(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ne(r)&&r instanceof an){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,t){let r=this._getFinalPath(n),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);let a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(n){return ve(this,void 0,void 0,function*(){try{return{data:yield ua(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(ne(t))return{data:null,error:t};throw t}})}list(n,t,r){return ve(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},ES),t),{prefix:n||""});return{data:yield lt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(ne(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};var Nm="2.7.1";var km={"X-Client-Info":`storage-js/${Nm}`};var Dr=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},fa=class{constructor(n,t={},r){this.url=n,this.headers=Object.assign(Object.assign({},km),t),this.fetch=ca(r)}listBuckets(){return Dr(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}getBucket(n){return Dr(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(ne(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return Dr(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}updateBucket(n,t){return Dr(this,void 0,void 0,function*(){try{return{data:yield Am(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}emptyBucket(n){return Dr(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(ne(t))return{data:null,error:t};throw t}})}deleteBucket(n){return Dr(this,void 0,void 0,function*(){try{return{data:yield ua(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(ne(t))return{data:null,error:t};throw t}})}};var Ui=class extends fa{constructor(n,t={},r){super(n,t,r)}from(n){return new da(this.url,this.headers,n,this.fetch)}};var Om="2.49.1";var Hi="";typeof Deno<"u"?Hi="deno":typeof document<"u"?Hi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hi="react-native":Hi="node";var _S={"X-Client-Info":`supabase-js-${Hi}/${Om}`},Pm={headers:_S},Lm={schema:"public"},Fm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jm={};Ju();var SS=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},IS=e=>{let n;return e?n=e:typeof fetch>"u"?n=Wu:n=fetch,(...t)=>n(...t)},MS=()=>typeof Headers>"u"?Ku:Headers,Bm=(e,n,t)=>{let r=IS(t),i=MS();return(o,s)=>SS(void 0,void 0,void 0,function*(){var a;let l=(a=yield n())!==null&&a!==void 0?a:e,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var TS=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})};function Vm(e){return e.replace(/\/$/,"")}function $m(e,n){let{db:t,auth:r,realtime:i,global:o}=e,{db:s,auth:a,realtime:l,global:c}=n,u={db:Object.assign(Object.assign({},s),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),o),accessToken:()=>TS(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}var ha="2.68.0";var cn=30*1e3,pa=3,ga=pa*cn,Um="http://localhost:9999",Hm="supabase.auth.token";var zm={"X-Client-Info":`gotrue-js/${ha}`};var zi="X-Supabase-Api-Version",ju={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Gm(e){return Math.round(Date.now()/1e3)+e}function qm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}var Ze=()=>typeof window<"u"&&typeof document<"u",un={tested:!1,writable:!1},Ut=()=>{if(!Ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(un.tested)return un.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),un.tested=!0,un.writable=!0}catch{un.tested=!0,un.writable=!1}return un.writable};function Wm(e){let n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{n[i]=r}),n}var ma=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},Km=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Bu=(e,n,t)=>h(void 0,null,function*(){yield e.setItem(n,JSON.stringify(t))}),qi=(e,n)=>h(void 0,null,function*(){let t=yield e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),Wi=(e,n)=>h(void 0,null,function*(){yield e.removeItem(n)});function AS(e){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t="",r,i,o,s,a,l,c,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)s=n.indexOf(e.charAt(u++)),a=n.indexOf(e.charAt(u++)),l=n.indexOf(e.charAt(u++)),c=n.indexOf(e.charAt(u++)),r=s<<2|a>>4,i=(a&15)<<4|l>>2,o=(l&3)<<6|c,t=t+String.fromCharCode(r),l!=64&&i!=0&&(t=t+String.fromCharCode(i)),c!=64&&o!=0&&(t=t+String.fromCharCode(o));return t}var Gi=class e{constructor(){this.promise=new e.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}};Gi.promiseConstructor=Promise;function Vu(e){let n=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=e.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!n.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=t[1];return JSON.parse(AS(r))}function Jm(e){return h(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),e)})})}function Zm(e,n){return new Promise((r,i)=>{h(this,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield e(o);if(!n(o,null,s)){r(s);return}}catch(s){if(!n(o,s)){i(s);return}}})})}function xS(e){return("0"+e.toString(16)).substr(-2)}function RS(){let n=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,xS).join("")}function NS(e){return h(this,null,function*(){let t=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function kS(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function OS(e){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let t=yield NS(e);return kS(t)})}function dn(e,n,t=!1){return h(this,null,function*(){let r=RS(),i=r;t&&(i+="/PASSWORD_RECOVERY"),yield Bu(e,`${n}-code-verifier`,i);let o=yield OS(r);return[o,r===o?"plain":"s256"]})}var PS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ym(e){let n=e.headers.get(zi);if(!n||!n.match(PS))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}var Ki=class extends Error{constructor(n,t,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function T(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var ya=class extends Ki{constructor(n,t,r){super(n,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function Qm(e){return T(e)&&e.name==="AuthApiError"}var Cr=class extends Ki{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}},St=class extends Ki{constructor(n,t,r,i){super(n,r,i),this.name=t,this.status=r}},Ue=class extends St{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Xm(e){return T(e)&&e.name==="AuthSessionMissingError"}var Er=class extends St{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},fn=class extends St{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},hn=class extends St{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function ey(e){return T(e)&&e.name==="AuthImplicitGrantRedirectError"}var Ji=class extends St{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},_r=class extends St{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}};function va(e){return T(e)&&e.name==="AuthRetryableFetchError"}var Zi=class extends St{constructor(n,t,r){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var LS=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t},pn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),FS=[502,503,504];function ty(e){return h(this,null,function*(){var n;if(!Km(e))throw new _r(pn(e),0);if(FS.includes(e.status))throw new _r(pn(e),e.status);let t;try{t=yield e.json()}catch(o){throw new Cr(pn(o),o)}let r,i=Ym(e);if(i&&i.getTime()>=ju["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Zi(pn(t),e.status,((n=t.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new Ue}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Zi(pn(t),e.status,t.weak_password.reasons);throw new ya(pn(t),e.status||500,r)})}var jS=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function k(e,n,t,r){return h(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[zi]||(o[zi]=ju["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield BS(e,n,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function BS(e,n,t,r,i,o){return h(this,null,function*(){let s=jS(n,r,i,o),a;try{a=yield e(t,Object.assign({},s))}catch(l){throw console.error(l),new _r(pn(l),0)}if(a.ok||(yield ty(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield ty(l)}})}function It(e){var n;let t=null;VS(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=Gm(e.expires_in)));let r=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:r},error:null}}function $u(e){let n=It(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(n.data.weak_password=e.weak_password),n}function ct(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function ny(e){return{data:e,error:null}}function ry(e){let{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=e,s=LS(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function iy(e){return e}function VS(e){return e.access_token&&e.refresh_token&&e.expires_in}var $S=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t},Sr=class{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=ma(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(n,t="global"){return h(this,null,function*(){try{return yield k(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(T(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return h(this,arguments,function*(n,t={}){try{return yield k(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ct})}catch(i){if(T(i))return{data:{user:null},error:i};throw i}})}generateLink(n){return h(this,null,function*(){try{let{options:t}=n,r=$S(n,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield k(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ry,redirectTo:t?.redirectTo})}catch(t){if(T(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(n){return h(this,null,function*(){try{return yield k(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ct})}catch(t){if(T(t))return{data:{user:null},error:t};throw t}})}listUsers(n){return h(this,null,function*(){var t,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield k(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:iy});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);c[`${b}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(T(c))return{data:{users:[]},error:c};throw c}})}getUserById(n){return h(this,null,function*(){try{return yield k(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ct})}catch(t){if(T(t))return{data:{user:null},error:t};throw t}})}updateUserById(n,t){return h(this,null,function*(){try{return yield k(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:ct})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,t=!1){return h(this,null,function*(){try{return yield k(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:ct})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return h(this,null,function*(){try{let{data:t,error:r}=yield k(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(T(t))return{data:null,error:t};throw t}})}_deleteFactor(n){return h(this,null,function*(){try{return{data:yield k(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(T(t))return{data:null,error:t};throw t}})}};var oy={getItem:e=>Ut()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{Ut()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{Ut()&&globalThis.localStorage.removeItem(e)}};function Uu(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}function sy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var gn={debug:!!(globalThis&&Ut()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Yi=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},ba=class extends Yi{};function Hu(e,n,t){return h(this,null,function*(){gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),gn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>h(this,null,function*(){if(i){gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return yield t()}finally{gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(n===0)throw gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ba(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(gn.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}sy();var US={url:Um,storageKey:Hm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function ay(e,n,t){return h(this,null,function*(){return yield t()})}var zu=(()=>{class e{constructor(t){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&Ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},US),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Sr({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=ma(o.fetch),this.lock=o.lock||ay,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Ze()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Hu:this.lock=ay,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Ut()?this.storage=oy:(this.memoryStorage={},this.storage=Uu(this.memoryStorage)):(this.memoryStorage={},this.storage=Uu(this.memoryStorage)),Ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ha}) ${new Date().toISOString()}`,...t),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var t;try{let r=Wm(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),Ze()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),ey(s)){let c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return T(r)?{error:r}:{error:new Cr("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return h(this,null,function*(){var r,i,o;try{let s=yield k(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:It}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(T(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(t){return h(this,null,function*(){var r,i,o;try{let s;if("email"in t){let{email:d,password:p,options:f}=t,g=null,m=null;this.flowType==="pkce"&&([g,m]=yield dn(this.storage,this.storageKey)),s=yield k(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:p,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:m},xform:It})}else if("phone"in t){let{phone:d,password:p,options:f}=t;s=yield k(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:It})}else throw new fn("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(T(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(t){return h(this,null,function*(){try{let r;if("email"in t){let{email:s,password:a,options:l}=t;r=yield k(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:$u})}else if("phone"in t){let{phone:s,password:a,options:l}=t;r=yield k(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:$u})}else throw new fn("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Er}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){return h(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(t)}))})}_exchangeCodeForSession(t){return h(this,null,function*(){let r=yield qi(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield k(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:It});if(yield Wi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Er}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(T(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(t){return h(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=t,l=yield k(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:It}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Er}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){return h(this,null,function*(){var r,i,o,s,a;try{if("email"in t){let{email:l,options:c}=t,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield dn(this.storage,this.storageKey));let{error:p}=yield k(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){let{phone:l,options:c}=t,{data:u,error:d}=yield k(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new fn("You must provide either an email or phone number.")}catch(l){if(T(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(t){return h(this,null,function*(){var r,i;try{let o,s;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(i=t.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield k(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:It});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(T(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(t){return h(this,null,function*(){var r,i,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield dn(this.storage,this.storageKey)),yield k(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:ny})}catch(s){if(T(s))return{data:null,error:s};throw s}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(t=>h(this,null,function*(){let{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new Ue;let{error:o}=yield k(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(t){if(T(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:i,type:o,options:s}=t,{error:a}=yield k(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){let{phone:i,type:o,options:s}=t,{data:a,error:l}=yield k(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new fn("You must provide either an email or phone number and a type")}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(t,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=h(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,t,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield qi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let i=t.expires_at?t.expires_at*1e3-Date.now()<ga:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}let{session:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return h(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return h(this,null,function*(){try{return t?yield k(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ct}):yield this._useSession(r=>h(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ue}:yield k(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:ct})}))}catch(r){if(T(r))return Xm(r)&&(yield this._removeSession(),yield Wi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return h(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(i){return h(this,arguments,function*(t,r={}){try{return yield this._useSession(o=>h(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new Ue;let l=s.session,c=null,u=null;this.flowType==="pkce"&&t.email!=null&&([c,u]=yield dn(this.storage,this.storageKey));let{data:d,error:p}=yield k(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:ct});if(p)throw p;return l.user=d.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(o){if(T(o))return{data:{user:null},error:o};throw o}})}_decodeJWT(t){return Vu(t)}setSession(t){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return h(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new Ue;let r=Date.now()/1e3,i=r,o=!0,s=null,a=Vu(t.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:l,error:c}=yield this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(T(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;if(!t){let{data:a,error:l}=r;if(l)throw l;t=(i=a.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new Ue;let{session:o,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(t,r){return h(this,null,function*(){try{if(!Ze())throw new hn("No browser detected.");if(t.error||t.error_description||t.error_code)throw new hn(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ji("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ji("No code detected.");let{data:he,error:He}=yield this._exchangeCodeForSession(t.code);if(He)throw He;let ut=new URL(window.location.href);return ut.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ut.toString()),{data:{session:he.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new hn("No session defined in URL");let d=Math.round(Date.now()/1e3),p=parseInt(l),f=d+p;c&&(f=parseInt(c));let g=f-d;g*1e3<=cn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);let m=f-p;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);let{data:b,error:C}=yield this._getUser(s);if(C)throw C;let J={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:p,expires_at:f,refresh_token:a,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:J,redirectType:t.type},error:null}}catch(i){if(T(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return h(this,null,function*(){let r=yield qi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return h(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return h(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,t);if(l&&!(Qm(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(yield this._removeSession(),yield Wi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(t){let r=qm(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(t){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return h(this,arguments,function*(t,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield dn(this.storage,this.storageKey,!0));try{return yield k(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(T(a))return{data:null,error:a};throw a}})}getUserIdentities(){return h(this,null,function*(){var t;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(T(r))return{data:null,error:r};throw r}})}linkIdentity(t){return h(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>h(this,null,function*(){var a,l,c,u,d;let{data:p,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield k(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return Ze()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(T(i))return{data:{provider:t.provider,url:null},error:i};throw i}})}unlinkIdentity(t){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield k(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(T(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return h(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield Zm(o=>h(this,null,function*(){return o>0&&(yield Jm(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield k(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:It})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&va(s)&&Date.now()+a-i<cn})}catch(i){if(this._debug(r,"error",i),T(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return h(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),Ze()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var t;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=yield qi(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&(yield this._removeSession());return}let o=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ga;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${ga}s`),o){if(this.autoRefreshToken&&i.refresh_token){let{error:s}=yield this._callRefreshToken(i.refresh_token);s&&(console.error(s),va(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}})}_callRefreshToken(t){return h(this,null,function*(){var r,i;if(!t)throw new Ue;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Gi;let{data:s,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Ue;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),T(s)){let a={session:null,error:s};return va(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(t,r,i=!0){return h(this,null,function*(){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>h(this,null,function*(){try{yield l.callback(t,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(t){return h(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,yield Bu(this.storage,this.storageKey,t)})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),yield Wi(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ze()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),cn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-t)/cn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${cn}ms, refresh threshold is ${pa} ticks`),o<=pa&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof Yi)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Ze()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return h(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,i){return h(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield dn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`})}_unenroll(t){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield k(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(T(r))return{data:null,error:r};throw r}})}_enroll(t){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=yield k(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(T(r))return{data:null,error:r};throw r}})}_verify(t){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=yield k(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})}))}catch(r){if(T(r))return{data:null,error:r};throw r}}))})}_challenge(t){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield k(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(T(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(t){return h(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:t.factorId});return i?{data:null,error:i}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return h(this,null,function*(){let{data:{user:t},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=t?.factors||[],o=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){return yield this._useSession(t=>h(this,null,function*(){var r,i;let{data:{session:o},error:s}=t;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(o.access_token),l=null;a.aal&&(l=a.aal);let c=l;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");let d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}))})}}return e.nextInstanceID=0,e})();var HS=zu,Gu=HS;var wa=class extends Gu{constructor(n){super(n)}};var zS=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},Da=class{constructor(n,t,r){var i,o,s;if(this.supabaseUrl=n,this.supabaseKey=t,!n)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let a=Vm(n);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Lm,realtime:jm,auth:Object.assign(Object.assign({},Fm),{storageKey:l}),global:Pm},u=$m(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=Bm(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Cm(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Ri(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ui(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return zS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},c,u){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wa({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new Vi(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var ly=(e,n,t)=>new Da(e,n,t);var cy="https://sqxxeavjmpiusjgjacrd.supabase.co",uy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNxeHhlYXZqbXBpdXNqZ2phY3JkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzM0MjA4OTAsImV4cCI6MjA0ODk5Njg5MH0.L-i2MrjlE0uTgmE81nuSn8O9smEa7f3rT91AOj4sqd4";var Ht=class e{supabase;constructor(){this.supabase=ly(cy,uy)}uploadAlbum(n){return h(this,null,function*(){try{let t=Math.random().toString(36).substring(7),r={code:t,user_id:1,created_at:new Date().toISOString()},{data:i,error:o}=yield this.supabase.from("Album").insert([r]).select().single();if(o||!i)return console.error("Error creando el \xE1lbum:",o),null;for(let a of n){let l=`public/${Date.now()}-${a.name}`,{data:c,error:u}=yield this.supabase.storage.from("Fotos").upload(l,a);if(u||!c){console.error(`Error subiendo la foto ${a.name}:`,u);continue}let{data:d}=this.supabase.storage.from("Fotos").getPublicUrl(c.path);if(!d){console.error(`Error obteniendo URL p\xFAblica para ${a.name}:`);continue}let p=d.publicUrl;if(!p){console.error(`No se obtuvo URL para ${a.name}`);continue}let f={album_id:i.id,url:p,nombre:a.name,fechaDeSubida:new Date().toISOString()},{error:g}=yield this.supabase.from("Foto").insert([f]);g&&console.error(`Error insertando foto ${a.name}:`,g)}return`http://localhost:4200/album/${t}`}catch(t){return console.error("Error en uploadAlbum:",t),null}})}getPhotosByAlbumId(n){return h(this,null,function*(){try{let{data:t,error:r}=yield this.supabase.from("Foto").select("*").eq("album_id",n);return r?(console.error("Error obteniendo fotos:",r),[]):t}catch(t){return console.error("Error en getPhotosByAlbumId:",t),[]}})}getAlbumByCode(n){return h(this,null,function*(){try{let{data:t,error:r}=yield this.supabase.from("Album").select("id").eq("code",n).single();return r||!t?(console.error("Error obteniendo el \xE1lbum:",r),null):t.id}catch(t){return console.error("Error en getAlbumByCode:",t),null}})}getUserAlbums(n){return h(this,null,function*(){let{data:t,error:r}=yield this.supabase.from("Album").select("*").eq("user_id",n);return r?(console.error("Error obteniendo los \xE1lbumes:",r),[]):t})}deleteAlbum(n,t){return h(this,null,function*(){try{let{data:r,error:i}=yield this.supabase.from("Foto").select("url").eq("album_id",n);if(i)return console.error("Error obteniendo las fotos:",i),!1;let o=r.map(s=>{let a=s.url.split("/");return a.slice(a.indexOf("Fotos")+1).join("/")});if(o.length>0){let{error:s}=yield this.supabase.storage.from("Fotos").remove(o);if(s)return console.error("Error eliminando fotos del bucket:",s),!1}return yield this.supabase.from("Foto").delete().eq("album_id",n),yield this.supabase.from("Album").delete().eq("id",n),!0}catch(r){return console.error("Error inesperado al eliminar el \xE1lbum:",r),!1}})}static \u0275fac=function(t){return new(t||e)};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})};var GS=(e,n)=>n.id;function qS(e,n){if(e&1&&(R(0,"div",3),_e(1,"img",5),R(2,"p"),z(3),L()()),e&2){let t=n.$implicit;Y(),tn("src",t.url,ei)("alt",t.filename),Y(2),it(t.filename)}}function WS(e,n){if(e&1){let t=jt();R(0,"div",1)(1,"h2"),z(2,"Fotos del \xC1lbum"),L(),R(3,"div",2),Xn(4,qS,4,3,"div",3,GS),R(6,"button",4),Se("click",function(){Lt(t);let i=je();return Ft(i.downloadAll())}),z(7,"Descargar todas"),L()()()}if(e&2){let t=je();Y(4),er(t.photos)}}function KS(e,n){e&1&&(R(0,"p",6),z(1,"No se encontraron fotos para este \xE1lbum."),L())}function JS(e,n){e&1&&Fe(0,KS,2,0,"ng-template",null,0,Op)}var Ca=class e{constructor(n,t){this.route=n;this.supabaseService=t}photos=[];ngOnInit(){return h(this,null,function*(){let n=this.route.snapshot.paramMap.get("code");if(n){let t=yield this.supabaseService.getAlbumByCode(n);t&&(this.photos=yield this.supabaseService.getPhotosByAlbumId(t),console.log(this.photos))}})}downloadAll(){this.photos.forEach(n=>window.open(n.url,"_blank"))}static \u0275fac=function(t){return new(t||e)(te(at),te(Ht))};static \u0275cmp=me({type:e,selectors:[["app-album"]],decls:2,vars:1,consts:[["noPhotos",""],[1,"album-container"],[1,"photos-grid"],[1,"photo-card"],[1,"download-btn",3,"click"],[1,"photo",3,"src","alt"],[1,"no-photos"]],template:function(t,r){t&1&&Fe(0,WS,8,0,"div",1)(1,JS,2,0),t&2&&rt(r.photos.length>0?0:1)},styles:[".album-container[_ngcontent-%COMP%]{text-align:center;padding:20px}.photos-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:20px;justify-items:center;margin-top:20px}.photo-card[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px;border-radius:8px;box-shadow:2px 2px 10px #0000001a;background:#fff;max-width:200px}.photo[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:5px}.download-btn[_ngcontent-%COMP%]{margin-top:20px;padding:10px 20px;font-size:16px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}.download-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.no-photos[_ngcontent-%COMP%]{font-size:18px;color:#666;text-align:center;margin-top:20px}"]})};function ZS(e,n){if(e&1){let t=jt();R(0,"h3"),z(1,"Enlace al \xC1lbum:"),L(),R(2,"a",2),z(3),L(),R(4,"button",1),Se("click",function(){Lt(t);let i=je();return Ft(i.copyLink())}),z(5,"Copiar enlace"),L()}if(e&2){let t=je();Y(2),tn("href",t.albumLink,ei),Y(),it(t.albumLink)}}var Ea=class e{constructor(n){this.supabaseService=n}files=[];albumLink=null;onFileSelected(n){let t=n.target;t instanceof HTMLInputElement&&t.files&&(this.files=Array.from(t.files))}uploadPhotos(){return h(this,null,function*(){this.files.length===0&&alert("Por favor, selecciona un archivo"),console.log("llanado a uploadAlbum"),this.albumLink=yield this.supabaseService.uploadAlbum(this.files),this.albumLink&&alert(`\xC1lbum creado: ${this.albumLink}`)})}copyLink(){this.albumLink&&navigator.clipboard.writeText(this.albumLink).then(()=>{alert("Enlace copiado al portapapeles.")}).catch(n=>{console.error("Error al copiar el enlace: ",n)})}static \u0275fac=function(t){return new(t||e)(te(Ht))};static \u0275cmp=me({type:e,selectors:[["app-upload-files"]],decls:7,vars:1,consts:[["type","file","multiple","","accept","image/*",3,"change"],[3,"click"],["target","_blank",3,"href"]],template:function(t,r){t&1&&(R(0,"div")(1,"h2"),z(2,"Subir Fotos"),L(),R(3,"input",0),Se("change",function(o){return r.onFileSelected(o)}),L(),R(4,"button",1),Se("click",function(){return r.uploadPhotos()}),z(5,"Subir Fotos"),L(),Fe(6,ZS,6,2),L()),t&2&&(Y(6),rt(r.albumLink?6:-1))},encapsulation:2})};var YS=e=>["/album",e],QS=(e,n)=>n.id;function XS(e,n){if(e&1){let t=jt();R(0,"div",0)(1,"p")(2,"strong"),z(3,"C\xF3digo:"),L(),z(4),L(),R(5,"p")(6,"strong"),z(7,"Fecha de Creaci\xF3n:"),L(),z(8),L(),R(9,"a",1),z(10,"Ver \xE1lbum"),L(),R(11,"button",2),Se("click",function(){let i=Lt(t).$implicit,o=je(2);return Ft(o.deleteAlbum(i))}),z(12,"Eliminar"),L()()}if(e&2){let t=n.$implicit;Y(4),ri(" ",t.code,""),Y(4),ri(" ",t.created_at,""),Y(),tn("routerLink",kp(3,YS,t.code))}}function eI(e,n){if(e&1&&Xn(0,XS,13,5,"div",0,QS),e&2){let t=je();er(t.albums)}}function tI(e,n){e&1&&(R(0,"p"),z(1,"No tienes links compartidos"),L())}var _a=class e{constructor(n){this.supabaseService=n}albums=[];user_id=1;ngOnInit(){return h(this,null,function*(){this.albums=yield this.supabaseService.getUserAlbums(this.user_id),console.log(this.albums)})}deleteAlbum(n){return h(this,null,function*(){if(!confirm("\xBFEst\xE1s seguro de que deseas eliminar este \xE1lbum?"))return;(yield this.supabaseService.deleteAlbum(n.id,n.code))?this.albums=this.albums.filter(i=>i.id!==n.id):console.error("Error al eliminar el \xE1lbum")})}static \u0275fac=function(t){return new(t||e)(te(Ht))};static \u0275cmp=me({type:e,selectors:[["app-links"]],decls:4,vars:1,consts:[[1,"album-card"],[3,"routerLink"],[3,"click"]],template:function(t,r){t&1&&(R(0,"h1"),z(1,"LINKS COMPARTIDOS"),L(),Fe(2,eI,2,0)(3,tI,2,0,"p")),t&2&&(Y(2),rt(r.albums.length>0?2:3))},dependencies:[nm,Jg],styles:[".album-card[_ngcontent-%COMP%]{border:1px solid #ccc;padding:10px;margin-bottom:10px;border-radius:5px;background:#f9f9f9;display:flex;flex-direction:column;gap:5px}button[_ngcontent-%COMP%]{background-color:red;color:#fff;border:none;padding:5px 10px;cursor:pointer;width:fit-content}button[_ngcontent-%COMP%]:hover{background-color:#8b0000}"]})};var dy=[{path:"dropsend",component:Ys},{path:"album/:code",component:Ca},{path:"upload",component:Ea},{path:"links",component:_a}];var fy={providers:[Lp({eventCoalescing:!0}),Yg(dy)]};var Sa=class e{title="SELEkT-app";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=me({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&_e(0,"router-outlet")},dependencies:[pu],encapsulation:2})};sg(Sa,fy).catch(e=>console.error(e));
